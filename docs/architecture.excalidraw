{
  "type": "excalidraw",
  "version": 2,
  "source": "https://marketplace.visualstudio.com/items?itemName=pomdtr.excalidraw-editor",
  "elements": [
    {
      "type": "text",
      "version": 91,
      "versionNonce": 848964040,
      "isDeleted": false,
      "id": "YfTc7wNUsLuszaKBP3-Kl",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -4722.369393046258,
      "y": 194.22413748070448,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 1134.9832763671875,
      "height": 50,
      "seed": 555048392,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760422374103,
      "link": null,
      "locked": false,
      "fontSize": 40,
      "fontFamily": 1,
      "text": "BAJI CASINO PLATFORM - COMPLETE ARCHITECTURE",
      "textAlign": "center",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "BAJI CASINO PLATFORM - COMPLETE ARCHITECTURE",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b0a"
    },
    {
      "type": "rectangle",
      "version": 90,
      "id": "G9B1Fy54tJkoPgk0YRQNz",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -4954.877754862664,
      "y": 294.2241374807045,
      "strokeColor": "#1971c2",
      "backgroundColor": "#e7f5ff",
      "width": 1400,
      "height": 250,
      "seed": 1899390152,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760422369188,
      "link": null,
      "locked": false,
      "versionNonce": 417415624,
      "index": "b0b",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 91,
      "id": "7znq0IMIMAst2EMBluzVs",
      "x": -4934.877754862664,
      "y": 304.2241374807045,
      "width": 266.29998779296875,
      "height": 30,
      "angle": 0,
      "strokeColor": "#1971c2",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1168018376,
      "versionNonce": 1041374920,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422376339,
      "link": null,
      "locked": false,
      "text": "LAYER 1: USER ROLES",
      "fontSize": 24,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 21,
      "containerId": null,
      "originalText": "LAYER 1: USER ROLES",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b0c"
    },
    {
      "type": "rectangle",
      "version": 90,
      "id": "crn1cXSUsOYdhTSy5Ppk6",
      "x": -4904.877754862664,
      "y": 354.2241374807045,
      "width": 200,
      "height": 160,
      "angle": 0,
      "strokeColor": "#c92a2a",
      "backgroundColor": "#ffe8e8",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1214894792,
      "versionNonce": 515993544,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369188,
      "link": null,
      "locked": false,
      "index": "b0d"
    },
    {
      "type": "text",
      "version": 90,
      "id": "mryoDkyx0KSqsLRteILNf",
      "x": -4894.877754862664,
      "y": 364.2241374807045,
      "width": 180,
      "height": 140,
      "angle": 0,
      "strokeColor": "#c92a2a",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 3422664,
      "versionNonce": 1133524680,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369188,
      "link": null,
      "locked": false,
      "text": "ADMIN\n\n• Mint Gold\n• Sell USDT\n• Analytics\n• Manage Distributor",
      "fontSize": 18,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 135,
      "containerId": null,
      "originalText": "ADMIN\n\n• Mint Gold\n• Sell USDT\n• Analytics\n• Manage Distributor",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b0e"
    },
    {
      "type": "rectangle",
      "version": 90,
      "id": "rBwx48LZ_QmNOcHuaYaHW",
      "x": -4654.877754862664,
      "y": 354.2241374807045,
      "width": 200,
      "height": 160,
      "angle": 0,
      "strokeColor": "#e67700",
      "backgroundColor": "#fff4e6",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1075429576,
      "versionNonce": 284040648,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369188,
      "link": null,
      "locked": false,
      "index": "b0f"
    },
    {
      "type": "text",
      "version": 90,
      "id": "oKoZqRBgO-1_6F2uB6U9Z",
      "x": -4644.877754862664,
      "y": 364.2241374807045,
      "width": 180,
      "height": 140,
      "angle": 0,
      "strokeColor": "#e67700",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 397830088,
      "versionNonce": 1744250056,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369188,
      "link": null,
      "locked": false,
      "text": "DISTRIBUTOR\n\n• Buy Gold (USDT)\n• Allocate to Agent\n• Manage Agents\n• View Stats",
      "fontSize": 18,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 135,
      "containerId": null,
      "originalText": "DISTRIBUTOR\n\n• Buy Gold (USDT)\n• Allocate to Agent\n• Manage Agents\n• View Stats",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b0g"
    },
    {
      "type": "rectangle",
      "version": 94,
      "id": "lovLuoZFqruG9mJB1TP2E",
      "x": -4404.877754862664,
      "y": 354.2241374807045,
      "width": 200,
      "height": 160,
      "angle": 0,
      "strokeColor": "#f59f00",
      "backgroundColor": "#fff9db",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [
        "cXEMAKg7_OH-QAqtQ17mZ"
      ],
      "frameId": null,
      "roundness": null,
      "seed": 1979263955,
      "versionNonce": 1650355933,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760531800664,
      "link": null,
      "locked": false,
      "index": "b0gV"
    },
    {
      "type": "text",
      "version": 94,
      "id": "Hq5ROERjcdLbwftj6TgjC",
      "x": -4394.877754862664,
      "y": 364.2241374807045,
      "width": 180,
      "height": 140,
      "angle": 0,
      "strokeColor": "#f59f00",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [
        "cXEMAKg7_OH-QAqtQ17mZ"
      ],
      "frameId": null,
      "roundness": null,
      "seed": 1277835635,
      "versionNonce": 231115581,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760531800664,
      "link": null,
      "locked": false,
      "text": "AGENT\n\n• Buy Gold (Fiat)\n• Provision Players\n• Manage Sub-Agents\n• View Stats",
      "fontSize": 18,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 135,
      "containerId": null,
      "originalText": "AGENT\n\n• Buy Gold (Fiat)\n• Provision Players\n• Manage Sub-Agents\n• View Stats",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b0h"
    },
    {
      "type": "rectangle",
      "version": 194,
      "id": "3YBpsFFUPfIniqeR8kXda",
      "x": -3935.2716757611015,
      "y": 354.2241374807045,
      "width": 200,
      "height": 160,
      "angle": 0,
      "strokeColor": "#2f9e44",
      "backgroundColor": "#ebfbee",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [
        "Igj8BB6fQOa4Q_AV1meJW"
      ],
      "frameId": null,
      "roundness": null,
      "seed": 74390728,
      "versionNonce": 1779127165,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760531794764,
      "link": null,
      "locked": false,
      "index": "b0iV"
    },
    {
      "type": "text",
      "version": 194,
      "id": "6MVlC8aR7eBnaizcFssMZ",
      "x": -3925.2716757611015,
      "y": 364.2241374807045,
      "width": 180,
      "height": 140,
      "angle": 0,
      "strokeColor": "#2f9e44",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [
        "Igj8BB6fQOa4Q_AV1meJW"
      ],
      "frameId": null,
      "roundness": null,
      "seed": 1627407304,
      "versionNonce": 598596573,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760531794765,
      "link": null,
      "locked": false,
      "text": "PLAYER\n\n• Buy Gold (Fiat)\n• Play Games\n• Cash Out\n• History",
      "fontSize": 18,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 135,
      "containerId": null,
      "originalText": "PLAYER\n\n• Buy Gold (Fiat)\n• Play Games\n• Cash Out\n• History",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b0j"
    },
    {
      "type": "rectangle",
      "version": 90,
      "id": "P8J30xRAa4w9BAOE7fvfA",
      "x": -4954.877754862664,
      "y": 594.2241374807045,
      "width": 1400,
      "height": 150,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#f8f9fa",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 2127858376,
      "versionNonce": 2113873864,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369188,
      "link": null,
      "locked": false,
      "index": "b0l"
    },
    {
      "type": "text",
      "version": 91,
      "id": "4M83JiF2CP6VvKaUtN4M3",
      "x": -4934.877754862664,
      "y": 604.2241374807045,
      "width": 337.1166687011719,
      "height": 30,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 143126984,
      "versionNonce": 806472888,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422382759,
      "link": null,
      "locked": false,
      "text": "LAYER 2: CDN & SECURITY",
      "fontSize": 24,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 21,
      "containerId": null,
      "originalText": "LAYER 2: CDN & SECURITY",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b0m"
    },
    {
      "type": "text",
      "version": 92,
      "id": "l2IHf7Ow-Umhmckb7hP4w",
      "x": -4712.361092265008,
      "y": 654.2241374807045,
      "width": 514.9666748046875,
      "height": 67.5,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1966504136,
      "versionNonce": 1141078200,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422401865,
      "link": null,
      "locked": false,
      "text": "CLOUDFLARE (CDN + DDoS Protection)\n• SSL Termination  • Layer 7 DDoS (1000 req/min per IP)\n• Caching Static Assets  • WAF  • Bot Detection",
      "fontSize": 18,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 65,
      "containerId": null,
      "originalText": "CLOUDFLARE (CDN + DDoS Protection)\n• SSL Termination  • Layer 7 DDoS (1000 req/min per IP)\n• Caching Static Assets  • WAF  • Bot Detection",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b0n"
    },
    {
      "type": "rectangle",
      "version": 90,
      "id": "VOIBxLmJJkGg9smtrFF2l",
      "x": -4954.877754862664,
      "y": 794.2241374807045,
      "width": 1400,
      "height": 450,
      "angle": 0,
      "strokeColor": "#5c940d",
      "backgroundColor": "#f4fce3",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 2021400520,
      "versionNonce": 510647496,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369188,
      "link": null,
      "locked": false,
      "index": "b0o"
    },
    {
      "type": "text",
      "version": 91,
      "id": "UyVGGSM_7A0v777mk2MgZ",
      "x": -4934.877754862664,
      "y": 804.2241374807045,
      "width": 645.933349609375,
      "height": 30,
      "angle": 0,
      "strokeColor": "#5c940d",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1920263880,
      "versionNonce": 1949420472,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422394091,
      "link": null,
      "locked": false,
      "text": "LAYER 3: FRONTEND (Cloudflare Workers - SvelteKit)",
      "fontSize": 24,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 21,
      "containerId": null,
      "originalText": "LAYER 3: FRONTEND (Cloudflare Workers - SvelteKit)",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b0p"
    },
    {
      "type": "rectangle",
      "version": 90,
      "id": "RDfV2vrv5rjMJ7e2c6bFQ",
      "x": -4924.877754862664,
      "y": 854.2241374807045,
      "width": 280,
      "height": 150,
      "angle": 0,
      "strokeColor": "#5c940d",
      "backgroundColor": "#fff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1606208968,
      "versionNonce": 530926280,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369188,
      "link": null,
      "locked": false,
      "index": "b0q"
    },
    {
      "type": "text",
      "version": 91,
      "id": "E884Ezvk5DbKwqGYLNHyy",
      "x": -4914.877754862664,
      "y": 864.2241374807045,
      "width": 225.01666259765625,
      "height": 100,
      "angle": 0,
      "strokeColor": "#5c940d",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1232065736,
      "versionNonce": 832257208,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422792252,
      "link": null,
      "locked": false,
      "text": "SvelteKit Routes\n• Static pages\n• Client-side logic\n• Auth redirects to Go API\n• No auth handling",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 125,
      "containerId": null,
      "originalText": "SvelteKit Routes\n• Static pages\n• Client-side logic\n• Auth redirects to Go API\n• No auth handling",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b0r"
    },
    {
      "type": "rectangle",
      "version": 90,
      "id": "uFpL9QV_MNLzXtrNCBghb",
      "x": -4614.877754862664,
      "y": 854.2241374807045,
      "width": 280,
      "height": 180,
      "angle": 0,
      "strokeColor": "#5c940d",
      "backgroundColor": "#fff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 891943880,
      "versionNonce": 685193416,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369188,
      "link": null,
      "locked": false,
      "index": "b0s"
    },
    {
      "type": "text",
      "version": 91,
      "id": "Xy1aZbkUxuMlF_m3DObat",
      "x": -4604.877754862664,
      "y": 864.2241374807045,
      "width": 208.78334045410156,
      "height": 160,
      "angle": 0,
      "strokeColor": "#5c940d",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 352797384,
      "versionNonce": 940479944,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422791382,
      "link": null,
      "locked": false,
      "text": "App Routes\n• /login, /register\n• /admin/* (RED ZONE)\n• /distributor/* (ORANGE)\n• /agent/* (ORANGE)\n• /play/* (YELLOW)\n\nR2 Bucket: Static Assets",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 155,
      "containerId": null,
      "originalText": "App Routes\n• /login, /register\n• /admin/* (RED ZONE)\n• /distributor/* (ORANGE)\n• /agent/* (ORANGE)\n• /play/* (YELLOW)\n\nR2 Bucket: Static Assets",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b0t"
    },
    {
      "type": "rectangle",
      "version": 90,
      "id": "0bI7eRGajAA8ylsZaAqix",
      "x": -4304.877754862664,
      "y": 854.2241374807045,
      "width": 320,
      "height": 180,
      "angle": 0,
      "strokeColor": "#5c940d",
      "backgroundColor": "#fff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 933472712,
      "versionNonce": 1155901128,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369188,
      "link": null,
      "locked": false,
      "index": "b0u"
    },
    {
      "type": "text",
      "version": 91,
      "id": "A4_Gxzs5xMtkcIxeBzdRA",
      "x": -4294.877754862664,
      "y": 864.2241374807045,
      "width": 194.3000030517578,
      "height": 140,
      "angle": 0,
      "strokeColor": "#5c940d",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 941306056,
      "versionNonce": 800329656,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422790613,
      "link": null,
      "locked": false,
      "text": "PixiJS Game Engine\n(Client-Side WebGL)\n• Slot Machine\n• Crash Game\n• Howler.js (audio)\n• Asset preloading\n• Loads from R2 Bucket",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 155,
      "containerId": null,
      "originalText": "PixiJS Game Engine\n(Client-Side WebGL)\n• Slot Machine\n• Crash Game\n• Howler.js (audio)\n• Asset preloading\n• Loads from R2 Bucket",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b0v"
    },
    {
      "type": "text",
      "version": 91,
      "id": "Zc0G39dgvRNgeM4rQtmZW",
      "x": -3954.877754862664,
      "y": 894.2241374807045,
      "width": 197.56666564941406,
      "height": 87.5,
      "angle": 0,
      "strokeColor": "#e03131",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1846138824,
      "versionNonce": 828592840,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422789788,
      "link": null,
      "locked": false,
      "text": "⚠️ WebSocket Bypass\nWebSocket bypasses Workers\nDirect: Client → Railway Go\nNo edge processing for\nreal-time games",
      "fontSize": 14,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 85,
      "containerId": null,
      "originalText": "⚠️ WebSocket Bypass\nWebSocket bypasses Workers\nDirect: Client → Railway Go\nNo edge processing for\nreal-time games",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b0w"
    },
    {
      "type": "rectangle",
      "version": 90,
      "id": "tt0YuJ0r3fvjQEFyCB4cw",
      "x": -4954.877754862664,
      "y": 1294.2241374807045,
      "width": 1400,
      "height": 350,
      "angle": 0,
      "strokeColor": "#1864ab",
      "backgroundColor": "#e7f5ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1569431240,
      "versionNonce": 1280490440,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369189,
      "link": null,
      "locked": false,
      "index": "b0x"
    },
    {
      "type": "text",
      "version": 91,
      "id": "xjwOTKd7g-jnqZRz4NZXV",
      "x": -4934.877754862664,
      "y": 1304.2241374807045,
      "width": 808.1500244140625,
      "height": 30,
      "angle": 0,
      "strokeColor": "#1864ab",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 658277832,
      "versionNonce": 330070712,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422462228,
      "link": null,
      "locked": false,
      "text": "LAYER 4: API GATEWAY (Railway - Go Service: 2 vCPU, 4GB RAM)",
      "fontSize": 24,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 21,
      "containerId": null,
      "originalText": "LAYER 4: API GATEWAY (Railway - Go Service: 2 vCPU, 4GB RAM)",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b0y"
    },
    {
      "type": "rectangle",
      "version": 90,
      "id": "hBIN96yTHVjYd_XP9rZXt",
      "x": -4924.877754862664,
      "y": 1354.2241374807045,
      "width": 400,
      "height": 230,
      "angle": 0,
      "strokeColor": "#1864ab",
      "backgroundColor": "#fff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 2016971976,
      "versionNonce": 731670984,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369189,
      "link": null,
      "locked": false,
      "index": "b0z"
    },
    {
      "type": "text",
      "version": 91,
      "id": "Fh_9GtQFDoU_ulYpVmbYB",
      "x": -4914.877754862664,
      "y": 1364.2241374807045,
      "width": 319.29998779296875,
      "height": 200,
      "angle": 0,
      "strokeColor": "#1864ab",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 2048635848,
      "versionNonce": 1728034248,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422776925,
      "link": null,
      "locked": false,
      "text": "HTTP Router (Chi)\n\n• /api/auth/* (Login, Register, OAuth)\n• /api/admin/*\n• /api/distributor/*\n• /api/agent/*\n• /api/player/*\n• /api/game/*\n• /ws (WebSocket endpoint)\n\nGo handles all auth + JWT issuance",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 205,
      "containerId": null,
      "originalText": "HTTP Router (Chi)\n\n• /api/auth/* (Login, Register, OAuth)\n• /api/admin/*\n• /api/distributor/*\n• /api/agent/*\n• /api/player/*\n• /api/game/*\n• /ws (WebSocket endpoint)\n\nGo handles all auth + JWT issuance",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b10"
    },
    {
      "type": "rectangle",
      "version": 90,
      "id": "87iyjjNoOKS523PLaKzl_",
      "x": -4494.877754862664,
      "y": 1354.2241374807045,
      "width": 480,
      "height": 230,
      "angle": 0,
      "strokeColor": "#1864ab",
      "backgroundColor": "#fff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1124203208,
      "versionNonce": 1255315400,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369189,
      "link": null,
      "locked": false,
      "index": "b11"
    },
    {
      "type": "text",
      "version": 91,
      "id": "EIkNHb_5qVCxZjREEP1w5",
      "x": -4484.877754862664,
      "y": 1364.2241374807045,
      "width": 321.5333251953125,
      "height": 200,
      "angle": 0,
      "strokeColor": "#1864ab",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1166500296,
      "versionNonce": 252976312,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422778177,
      "link": null,
      "locked": false,
      "text": "Middleware Stack\n\n1. CORS\n2. JWT Verification (Go-issued token)\n3. Role-Based Access Control\n   (admin > dist > agent > player)\n4. Rate Limiting\n   - Per-user: 100 bets/min\n   - Per-game limits\n5. Logging",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 205,
      "containerId": null,
      "originalText": "Middleware Stack\n\n1. CORS\n2. JWT Verification (Go-issued token)\n3. Role-Based Access Control\n   (admin > dist > agent > player)\n4. Rate Limiting\n   - Per-user: 100 bets/min\n   - Per-game limits\n5. Logging",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b12"
    },
    {
      "type": "rectangle",
      "version": 104,
      "id": "rgKoTwg_0IGTROLqevPqK",
      "x": -3984.877754862664,
      "y": 1354.2241374807045,
      "width": 380,
      "height": 176.9090071921796,
      "angle": 0,
      "strokeColor": "#d9480f",
      "backgroundColor": "#fff4e6",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "dashed",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1086843080,
      "versionNonce": 461233848,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422783430,
      "link": null,
      "locked": false,
      "index": "b13"
    },
    {
      "type": "text",
      "version": 91,
      "id": "G8SuDDT28lf-QheMeyAzn",
      "x": -3974.877754862664,
      "y": 1364.2241374807045,
      "width": 187.61666870117188,
      "height": 160,
      "angle": 0,
      "strokeColor": "#d9480f",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 811569096,
      "versionNonce": 1351424200,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422779404,
      "link": null,
      "locked": false,
      "text": "Redis Cache (Optional)\n\n• Session cache\n• Game config\n• Leaderboards\n• Rate limit state\n\nAdd if latency > 200ms",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 125,
      "containerId": null,
      "originalText": "Redis Cache (Optional)\n\n• Session cache\n• Game config\n• Leaderboards\n• Rate limit state\n\nAdd if latency > 200ms",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b14"
    },
    {
      "type": "rectangle",
      "version": 90,
      "id": "xVchRFKGfShpvqrY9BTxt",
      "x": -4954.877754862664,
      "y": 1694.2241374807045,
      "width": 1400,
      "height": 350,
      "angle": 0,
      "strokeColor": "#862e9c",
      "backgroundColor": "#f3f0ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1013601992,
      "versionNonce": 1283748808,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369189,
      "link": null,
      "locked": false,
      "index": "b15"
    },
    {
      "type": "text",
      "version": 91,
      "id": "nlY_5oChMVkm-gTT5JY0x",
      "x": -4934.877754862664,
      "y": 1704.2241374807045,
      "width": 464.73333740234375,
      "height": 30,
      "angle": 0,
      "strokeColor": "#862e9c",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 696532424,
      "versionNonce": 1977371530,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760423922459,
      "link": null,
      "locked": false,
      "text": "LAYER 5: BUSINESS LOGIC SERVICES",
      "fontSize": 24,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 21,
      "containerId": null,
      "originalText": "LAYER 5: BUSINESS LOGIC SERVICES",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b16"
    },
    {
      "type": "rectangle",
      "version": 90,
      "id": "7X7pZsSwDnEKLK1aV0mFY",
      "x": -4924.877754862664,
      "y": 1754.2241374807045,
      "width": 260,
      "height": 260,
      "angle": 0,
      "strokeColor": "#862e9c",
      "backgroundColor": "#fff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1221149896,
      "versionNonce": 616571336,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369189,
      "link": null,
      "locked": false,
      "index": "b17"
    },
    {
      "type": "text",
      "version": 91,
      "id": "8YBQ8RlK3n9Ee326ksRkE",
      "x": -4914.877754862664,
      "y": 1764.2241374807045,
      "width": 222.85000610351562,
      "height": 240,
      "angle": 0,
      "strokeColor": "#862e9c",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1742040008,
      "versionNonce": 897777080,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422773891,
      "link": null,
      "locked": false,
      "text": "Gold Ledger Service\n\n• Transfer Gold\n• Check Balance\n• Audit Trail\n• Transaction Lock\n• Atomicity\n\nDouble-Entry:\n• Debit/Credit\n• Conservation check\n  (total = sum of balances)",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 235,
      "containerId": null,
      "originalText": "Gold Ledger Service\n\n• Transfer Gold\n• Check Balance\n• Audit Trail\n• Transaction Lock\n• Atomicity\n\nDouble-Entry:\n• Debit/Credit\n• Conservation check\n  (total = sum of balances)",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b18"
    },
    {
      "type": "rectangle",
      "version": 90,
      "id": "FM_g8AubttnPh9n3m7pzJ",
      "x": -4634.877754862664,
      "y": 1754.2241374807045,
      "width": 260,
      "height": 260,
      "angle": 0,
      "strokeColor": "#862e9c",
      "backgroundColor": "#fff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1086632648,
      "versionNonce": 677924808,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369189,
      "link": null,
      "locked": false,
      "index": "b19"
    },
    {
      "type": "text",
      "version": 91,
      "id": "TBGNTK2I1ERvzw_sgWc0u",
      "x": -4624.877754862664,
      "y": 1764.2241374807045,
      "width": 203.06666564941406,
      "height": 240,
      "angle": 0,
      "strokeColor": "#862e9c",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1781733832,
      "versionNonce": 258510280,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422756130,
      "link": null,
      "locked": false,
      "text": "Game Engine\n\n• Provably Fair\n• RNG Seeds\n• Payout Logic\n• JSONB Mapping\n\nSlot: {reels: [7,7,7]}\nCrash: {crash_point: 2.5}\n\nWrites to:\ngame_sessions table",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 235,
      "containerId": null,
      "originalText": "Game Engine\n\n• Provably Fair\n• RNG Seeds\n• Payout Logic\n• JSONB Mapping\n\nSlot: {reels: [7,7,7]}\nCrash: {crash_point: 2.5}\n\nWrites to:\ngame_sessions table",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b1A"
    },
    {
      "type": "rectangle",
      "version": 99,
      "id": "aYDlTI6qsk6yGc0LHzLMp",
      "x": -4344.877754862664,
      "y": 1754.2241374807045,
      "width": 260,
      "height": 270.4646139080696,
      "angle": 0,
      "strokeColor": "#862e9c",
      "backgroundColor": "#fff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1195155656,
      "versionNonce": 128819896,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422769194,
      "link": null,
      "locked": false,
      "index": "b1B"
    },
    {
      "type": "text",
      "version": 91,
      "id": "O_4o7QgySh8LMfMJfcKCp",
      "x": -4334.877754862664,
      "y": 1764.2241374807045,
      "width": 185.13333129882812,
      "height": 260,
      "angle": 0,
      "strokeColor": "#862e9c",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 2004699080,
      "versionNonce": 976929976,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422757143,
      "link": null,
      "locked": false,
      "text": "Crypto Service\n\n• USDT Track\n• Tx Verify\n• Manual Confirm\n• Wallet Address\n\nAdmin checks:\nEtherscan/BSCScan\n↓\nConfirms in panel\n↓\nCredits distributor gold",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 235,
      "containerId": null,
      "originalText": "Crypto Service\n\n• USDT Track\n• Tx Verify\n• Manual Confirm\n• Wallet Address\n\nAdmin checks:\nEtherscan/BSCScan\n↓\nConfirms in panel\n↓\nCredits distributor gold",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b1C"
    },
    {
      "type": "rectangle",
      "version": 90,
      "id": "XOtgGJcReZQhUmSD4jLz1",
      "x": -4054.877754862664,
      "y": 1754.2241374807045,
      "width": 260,
      "height": 260,
      "angle": 0,
      "strokeColor": "#862e9c",
      "backgroundColor": "#fff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1192300232,
      "versionNonce": 897461192,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369189,
      "link": null,
      "locked": false,
      "index": "b1D"
    },
    {
      "type": "text",
      "version": 91,
      "id": "WsKX75I9m_IiwmyatzaAH",
      "x": -4044.877754862664,
      "y": 1764.2241374807045,
      "width": 151.98333740234375,
      "height": 220,
      "angle": 0,
      "strokeColor": "#862e9c",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 513013192,
      "versionNonce": 1684992200,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422758179,
      "link": null,
      "locked": false,
      "text": "Analytics Service\n\n• Player Stats\n• Game Stats\n• Revenue\n• Live Metrics\n\nMaterialized views\n(refresh 5min)\n+\nSSE to admin panel",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 235,
      "containerId": null,
      "originalText": "Analytics Service\n\n• Player Stats\n• Game Stats\n• Revenue\n• Live Metrics\n\nMaterialized views\n(refresh 5min)\n+\nSSE to admin panel",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b1E"
    },
    {
      "type": "rectangle",
      "version": 108,
      "id": "gCvLzbmbpSKDXXPNj9O85",
      "x": -3504.877754862664,
      "y": 1694.2241374807045,
      "width": 550,
      "height": 424.74724220049876,
      "angle": 0,
      "strokeColor": "#c2255c",
      "backgroundColor": "#fff0f6",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1931607240,
      "versionNonce": 381265848,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422715781,
      "link": null,
      "locked": false,
      "index": "b1F"
    },
    {
      "type": "text",
      "version": 90,
      "id": "MBUqIrvkAxC4ralX8Lg_L",
      "x": -3484.877754862664,
      "y": 1704.2241374807045,
      "width": 500,
      "height": 30,
      "angle": 0,
      "strokeColor": "#c2255c",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 911680456,
      "versionNonce": 77422792,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369189,
      "link": null,
      "locked": false,
      "text": "LAYER 6: REAL-TIME (WebSocket Hub)",
      "fontSize": 24,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 21,
      "containerId": null,
      "originalText": "LAYER 6: REAL-TIME (WebSocket Hub)",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b1G"
    },
    {
      "type": "text",
      "version": 91,
      "id": "DqkX-08TBznx4ooq9Ime0",
      "x": -3474.877754862664,
      "y": 1754.2241374807045,
      "width": 270.8500061035156,
      "height": 340,
      "angle": 0,
      "strokeColor": "#c2255c",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1179609800,
      "versionNonce": 337675208,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422711634,
      "link": null,
      "locked": false,
      "text": "Go Goroutines\n\nCrash Game Hub:\n• Player Pool (map[*Player]bool)\n• Broadcast channel\n• Round Timer (30s)\n• Multiplier calculation\n• Cashout logic\n\nAdmin Dashboard Feed:\n• Live stats push (30s interval)\n\nKeepalive Pinger:\n• Ping every 30s (Railway compat)\n\nMax: 2000 concurrent connections\nGoroutines: 1 per round",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 255,
      "containerId": null,
      "originalText": "Go Goroutines\n\nCrash Game Hub:\n• Player Pool (map[*Player]bool)\n• Broadcast channel\n• Round Timer (30s)\n• Multiplier calculation\n• Cashout logic\n\nAdmin Dashboard Feed:\n• Live stats push (30s interval)\n\nKeepalive Pinger:\n• Ping every 30s (Railway compat)\n\nMax: 2000 concurrent connections\nGoroutines: 1 per round",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b1H"
    },
    {
      "type": "rectangle",
      "version": 90,
      "id": "bBC3-hnPQHEbn6TU4Oorp",
      "x": -4954.877754862664,
      "y": 2094.2241374807045,
      "width": 1400,
      "height": 300,
      "angle": 0,
      "strokeColor": "#5f3dc4",
      "backgroundColor": "#f3f0ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1571213768,
      "versionNonce": 859950792,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369189,
      "link": null,
      "locked": false,
      "index": "b1I"
    },
    {
      "type": "text",
      "version": 90,
      "id": "zwkLTOrd9ecVMJT8jHfLf",
      "x": -4934.877754862664,
      "y": 2104.2241374807045,
      "width": 400,
      "height": 30,
      "angle": 0,
      "strokeColor": "#5f3dc4",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 58284232,
      "versionNonce": 1185723848,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369189,
      "link": null,
      "locked": false,
      "text": "LAYER 7: DATA ACCESS (pgx)",
      "fontSize": 24,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 21,
      "containerId": null,
      "originalText": "LAYER 7: DATA ACCESS (pgx)",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b1J"
    },
    {
      "type": "text",
      "version": 90,
      "id": "J1334ZvvXL8KTWPLp77B0",
      "x": -4904.877754862664,
      "y": 2154.2241374807045,
      "width": 1300,
      "height": 200,
      "angle": 0,
      "strokeColor": "#5f3dc4",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 2070085576,
      "versionNonce": 438484168,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369189,
      "link": null,
      "locked": false,
      "text": "User Repository: CRUD, Balance, Hierarchy queries\nGame Repository: CRUD, History, Stats\nTransaction Repository: Audit Log, Reconciliation\n\nConnection Pool: 20 connections, 1h lifetime\nPrepared Statements for all queries\nSELECT FOR UPDATE on balance operations (row locks)\nTransaction blocks for atomic operations",
      "fontSize": 18,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 195,
      "containerId": null,
      "originalText": "User Repository: CRUD, Balance, Hierarchy queries\nGame Repository: CRUD, History, Stats\nTransaction Repository: Audit Log, Reconciliation\n\nConnection Pool: 20 connections, 1h lifetime\nPrepared Statements for all queries\nSELECT FOR UPDATE on balance operations (row locks)\nTransaction blocks for atomic operations",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b1K"
    },
    {
      "type": "rectangle",
      "version": 136,
      "id": "_QIa0a5zpfXeBtoGM3u_h",
      "x": -4954.877754862664,
      "y": 2444.2241374807045,
      "width": 1400,
      "height": 517.309969095099,
      "angle": 0,
      "strokeColor": "#087f5b",
      "backgroundColor": "#e6fcf5",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 897566408,
      "versionNonce": 1647718140,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1761630517758,
      "link": null,
      "locked": false,
      "index": "b1L"
    },
    {
      "type": "text",
      "version": 90,
      "id": "O9cnHbq-BFrQX3DAjA25R",
      "x": -4934.877754862664,
      "y": 2454.2241374807045,
      "width": 700,
      "height": 30,
      "angle": 0,
      "strokeColor": "#087f5b",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1047244232,
      "versionNonce": 874523336,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369189,
      "link": null,
      "locked": false,
      "text": "LAYER 8: DATABASE (Railway Postgres - Developer Plan: 2GB RAM, 8GB Disk)",
      "fontSize": 24,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 21,
      "containerId": null,
      "originalText": "LAYER 8: DATABASE (Railway Postgres - Developer Plan: 2GB RAM, 8GB Disk)",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b1M"
    },
    {
      "type": "rectangle",
      "version": 150,
      "id": "orCjEjilMzCGWsjWcvxfY",
      "x": -4924.877754862664,
      "y": 2504.2241374807045,
      "width": 380,
      "height": 435.6919503304282,
      "angle": 0,
      "strokeColor": "#087f5b",
      "backgroundColor": "#fff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 792900808,
      "versionNonce": 572048964,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1761630520858,
      "link": null,
      "locked": false,
      "index": "b1N"
    },
    {
      "type": "text",
      "version": 92,
      "id": "nJ2mLBxoAtMIkp7A1Ta5I",
      "x": -4914.877754862664,
      "y": 2514.2241374807045,
      "width": 210.76844787597656,
      "height": 420,
      "angle": 0,
      "strokeColor": "#087f5b",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 497081288,
      "versionNonce": 1286726852,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1761630507573,
      "link": null,
      "locked": false,
      "text": "Auth Tables (Go-managed)\n\nuser\n• id, email, email_verified\n• password_hash (bcrypt)\n• name, image\n• role\n• balance_gold\n• parent_id\n\nsession\n• id, user_id, token_hash\n• expires_at\n• ip_address, user_agent\n\naccount (OAuth)\n• id, user_id, provider_id\n• account_id (Google ID)\n\nverification\n• id, identifier, value",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 315,
      "containerId": null,
      "originalText": "Auth Tables (Go-managed)\n\nuser\n• id, email, email_verified\n• password_hash (bcrypt)\n• name, image\n• role\n• balance_gold\n• parent_id\n\nsession\n• id, user_id, token_hash\n• expires_at\n• ip_address, user_agent\n\naccount (OAuth)\n• id, user_id, provider_id\n• account_id (Google ID)\n\nverification\n• id, identifier, value",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b1O"
    },
    {
      "type": "rectangle",
      "version": 129,
      "id": "E5RADJSbXwI6GN5DBXB3J",
      "x": -4514.877754862664,
      "y": 2508.7089720127346,
      "width": 500,
      "height": 390.8281246963394,
      "angle": 0,
      "strokeColor": "#087f5b",
      "backgroundColor": "#fff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 195175112,
      "versionNonce": 527944904,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422827060,
      "link": null,
      "locked": false,
      "index": "b1P"
    },
    {
      "type": "text",
      "version": 91,
      "id": "lOsVrbEQweI8bG8dzraL0",
      "x": -4504.877754862664,
      "y": 2514.2241374807045,
      "width": 277.1833190917969,
      "height": 380,
      "angle": 0,
      "strokeColor": "#087f5b",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1474464200,
      "versionNonce": 334835144,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422821174,
      "link": null,
      "locked": false,
      "text": "App Tables\n\ntransactions\n• id, from_user_id, to_user_id\n• amount, type, created_at\n\ncrypto_purchases\n• id, distributor_id\n• usdt_amount, gold_amount\n• tx_hash, status, created_at\n\ngame_sessions (UNIFIED TABLE)\n• id, player_id, game_type\n• bet_amount, payout\n• result (JSONB) ← All game data\n• server_seed_hash, created_at\n\nIndexes: game_type, player_id\nGIN index on result JSONB",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 315,
      "containerId": null,
      "originalText": "App Tables\n\ntransactions\n• id, from_user_id, to_user_id\n• amount, type, created_at\n\ncrypto_purchases\n• id, distributor_id\n• usdt_amount, gold_amount\n• tx_hash, status, created_at\n\ngame_sessions (UNIFIED TABLE)\n• id, player_id, game_type\n• bet_amount, payout\n• result (JSONB) ← All game data\n• server_seed_hash, created_at\n\nIndexes: game_type, player_id\nGIN index on result JSONB",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b1Q"
    },
    {
      "type": "rectangle",
      "version": 90,
      "id": "4yWUq055_XVLQw03h_KAg",
      "x": -3984.877754862664,
      "y": 2504.2241374807045,
      "width": 380,
      "height": 170,
      "angle": 0,
      "strokeColor": "#087f5b",
      "backgroundColor": "#fff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 763236552,
      "versionNonce": 834956744,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369189,
      "link": null,
      "locked": false,
      "index": "b1R"
    },
    {
      "type": "text",
      "version": 91,
      "id": "TnNXWx3ycr8TPRPJGBupw",
      "x": -3974.877754862664,
      "y": 2514.2241374807045,
      "width": 227.14999389648438,
      "height": 140,
      "angle": 0,
      "strokeColor": "#087f5b",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1947252680,
      "versionNonce": 1175364040,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422830462,
      "link": null,
      "locked": false,
      "text": "Backup Strategy\n\n• Automated daily snapshots\n• Point-in-time recovery\n  (7 days)\n• Transaction log backup\n• Monthly full backup",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 145,
      "containerId": null,
      "originalText": "Backup Strategy\n\n• Automated daily snapshots\n• Point-in-time recovery\n  (7 days)\n• Transaction log backup\n• Monthly full backup",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b1S"
    },
    {
      "type": "rectangle",
      "version": 126,
      "id": "RjDpE-JzL_yPCpwOfN6Z9",
      "x": -5454.877754862664,
      "y": 894.2241374807045,
      "width": 380,
      "height": 180,
      "angle": 0,
      "strokeColor": "#1864ab",
      "backgroundColor": "#e7f5ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1068924616,
      "versionNonce": 1693402552,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422438492,
      "link": null,
      "locked": false,
      "index": "b1T"
    },
    {
      "type": "text",
      "version": 104,
      "id": "fmnVABUQ0VGWx09dyBrhc",
      "x": -5444.877754862664,
      "y": 904.2241374807045,
      "width": 336.54998779296875,
      "height": 160,
      "angle": 0,
      "strokeColor": "#1864ab",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1091265992,
      "versionNonce": 1956977608,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422448741,
      "link": null,
      "locked": false,
      "text": "Google OAuth 2.0\n(Managed by Go)\n\nConfig:\n• Client ID\n• Client Secret\n• Redirect URI:\n  https://baji.com/api/auth/callback/google\n\nGo handles OAuth flow",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 155,
      "containerId": null,
      "originalText": "Google OAuth 2.0\n(Managed by Go)\n\nConfig:\n• Client ID\n• Client Secret\n• Redirect URI:\n  https://baji.com/api/auth/callback/google\n\nGo handles OAuth flow",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b1U"
    },
    {
      "type": "rectangle",
      "version": 90,
      "id": "ohot9C-MVbrSlvB9fJd0L",
      "x": -5454.877754862664,
      "y": 1104.2241374807045,
      "width": 380,
      "height": 150,
      "angle": 0,
      "strokeColor": "#1864ab",
      "backgroundColor": "#e7f5ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 892038344,
      "versionNonce": 2027637192,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369189,
      "link": null,
      "locked": false,
      "index": "b1V"
    },
    {
      "type": "text",
      "version": 91,
      "id": "CfGjX7H4g9m3TPp6yLWMR",
      "x": -5444.877754862664,
      "y": 1114.2241374807045,
      "width": 163.5,
      "height": 140,
      "angle": 0,
      "strokeColor": "#1864ab",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1437766600,
      "versionNonce": 792068024,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422458660,
      "link": null,
      "locked": false,
      "text": "Email Service\n(Resend/SendGrid)\n\n• Email verification\n• Password reset\n• Notifications\n• Transaction alerts",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 125,
      "containerId": null,
      "originalText": "Email Service\n(Resend/SendGrid)\n\n• Email verification\n• Password reset\n• Notifications\n• Transaction alerts",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b1W"
    },
    {
      "type": "rectangle",
      "version": 102,
      "id": "oGd0RUHQTK680kqEHBJp-",
      "x": -5454.877754862664,
      "y": 1794.2241374807045,
      "width": 380,
      "height": 258.2704772860899,
      "angle": 0,
      "strokeColor": "#862e9c",
      "backgroundColor": "#f3f0ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1220336328,
      "versionNonce": 1702980296,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422578530,
      "link": null,
      "locked": false,
      "index": "b1X"
    },
    {
      "type": "text",
      "version": 91,
      "id": "bbMO6DP5Mkazxr9LbN7vE",
      "x": -5444.877754862664,
      "y": 1804.2241374807045,
      "width": 212.76666259765625,
      "height": 220,
      "angle": 0,
      "strokeColor": "#862e9c",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 283525576,
      "versionNonce": 1544284088,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422575280,
      "link": null,
      "locked": false,
      "text": "Blockchain Explorers\n\n• Etherscan (ETH/ERC-20)\n• BSCScan (BNB/BEP-20)\n\nAdmin manually verifies\nUSDT transactions\n↓\nConfirms in Crypto Service\n↓\nCredits distributor gold",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 155,
      "containerId": null,
      "originalText": "Blockchain Explorers\n\n• Etherscan (ETH/ERC-20)\n• BSCScan (BNB/BEP-20)\n\nAdmin manually verifies\nUSDT transactions\n↓\nConfirms in Crypto Service\n↓\nCredits distributor gold",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b1Y"
    },
    {
      "type": "rectangle",
      "version": 99,
      "id": "dphUlGqjb8imRiQ5oWf8g",
      "x": -3504.877754862664,
      "y": 1294.2241374807045,
      "width": 450,
      "height": 287.37362110024947,
      "angle": 0,
      "strokeColor": "#f08c00",
      "backgroundColor": "#fff9db",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 2102053064,
      "versionNonce": 1475845304,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422720156,
      "link": null,
      "locked": false,
      "index": "b1Z"
    },
    {
      "type": "text",
      "version": 91,
      "id": "nc7TEBnJ_llKK2TjSigAF",
      "x": -3484.877754862664,
      "y": 1304.2241374807045,
      "width": 278.5666809082031,
      "height": 260,
      "angle": 0,
      "strokeColor": "#f08c00",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 428240840,
      "versionNonce": 250904008,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422717250,
      "link": null,
      "locked": false,
      "text": "Monitoring & Observability\n\n• Railway logs (stderr/stdout)\n• Metrics (Prometheus)\n• /health endpoint\n• Grafana dashboards\n\nAlerts:\n• DB pool exhausted\n• WebSocket disconnect rate > 10%\n• Failed transactions spike\n• CPU > 80% for 5min\n• Memory > 90%",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 225,
      "containerId": null,
      "originalText": "Monitoring & Observability\n\n• Railway logs (stderr/stdout)\n• Metrics (Prometheus)\n• /health endpoint\n• Grafana dashboards\n\nAlerts:\n• DB pool exhausted\n• WebSocket disconnect rate > 10%\n• Failed transactions spike\n• CPU > 80% for 5min\n• Memory > 90%",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b1a"
    },
    {
      "type": "rectangle",
      "version": 144,
      "id": "HJPUgEMeCPh7ti_1emYlk",
      "x": -3504.877754862664,
      "y": 2450.4061230963453,
      "width": 450,
      "height": 439.0298704929283,
      "angle": 0,
      "strokeColor": "#e03131",
      "backgroundColor": "#ffe8e8",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [
        "1Edhe5PfvP_zW-nCiwdhW"
      ],
      "frameId": null,
      "roundness": null,
      "seed": 498415304,
      "versionNonce": 1007923656,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422743173,
      "link": null,
      "locked": false,
      "index": "b1aV"
    },
    {
      "type": "text",
      "version": 129,
      "id": "AWZkpoWEZN81o9mWlDmXy",
      "x": -3484.877754862664,
      "y": 2460.4061230963453,
      "width": 258.8666687011719,
      "height": 420,
      "angle": 0,
      "strokeColor": "#e03131",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [
        "1Edhe5PfvP_zW-nCiwdhW"
      ],
      "frameId": null,
      "roundness": null,
      "seed": 1584602568,
      "versionNonce": 1095383240,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422743173,
      "link": null,
      "locked": false,
      "text": "Error Handling & Recovery\n\nWebSocket disconnect:\n→ Refund active bets\n→ Log for investigation\n\nTransaction failure:\n→ ROLLBACK\n→ Return error to client\n→ Log with context\n\nDB timeout:\n→ Retry 3x with backoff\n→ Circuit breaker after failures\n\nPayment failure:\n→ Queue for manual review\n→ Notify admin\n\nServer crash mid-game:\n→ Refund all incomplete rounds",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 275,
      "containerId": null,
      "originalText": "Error Handling & Recovery\n\nWebSocket disconnect:\n→ Refund active bets\n→ Log for investigation\n\nTransaction failure:\n→ ROLLBACK\n→ Return error to client\n→ Log with context\n\nDB timeout:\n→ Retry 3x with backoff\n→ Circuit breaker after failures\n\nPayment failure:\n→ Queue for manual review\n→ Notify admin\n\nServer crash mid-game:\n→ Refund all incomplete rounds",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b1b"
    },
    {
      "type": "rectangle",
      "version": 251,
      "id": "VqdRlW86N5S1rruUP3kJR",
      "x": -2890.3158056001357,
      "y": -157.1962896576722,
      "width": 450,
      "height": 700,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#f8f9fa",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [
        "hOoz4vQVoFp7uafqs5mqa"
      ],
      "frameId": null,
      "roundness": null,
      "seed": 1021060296,
      "versionNonce": 1393630904,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422623412,
      "link": null,
      "locked": false,
      "index": "b1cV"
    },
    {
      "type": "text",
      "version": 297,
      "id": "lD9CBWOj_n8vIEVkqO7Zp",
      "x": -2870.3158056001357,
      "y": -147.1962896576722,
      "width": 213.93641662597656,
      "height": 660,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [
        "hOoz4vQVoFp7uafqs5mqa"
      ],
      "frameId": null,
      "roundness": null,
      "seed": 378293192,
      "versionNonce": 2007448260,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1761630564205,
      "link": null,
      "locked": false,
      "text": "TECHNOLOGY STACK\n\nFrontend:\n• SvelteKit\n• Cloudflare Workers\n• PixiJS 8\n• TailwindCSS\n• Howler.js\n\nBackend:\n• Go 1.24\n• Chi Router\n• pgx (Postgres driver)\n• gorilla/websocket\n• golang-jwt/jwt\n• bcrypt (password hashing)\n• oauth2 (Google OAuth)\n\nDatabase: PostgreSQL 16\nInfrastructure:\n• Railway (PaaS)\n• Cloudflare (CDN/Workers)\n• R2 (Object Storage)\n\nAuth (Go-based):\n• Email/Password (bcrypt)\n• Google OAuth 2.0\n• JWT sessions\n\nExternal:\n• Resend/SendGrid (Email)\n• Etherscan/BSCScan\n• Grafana (Monitoring)",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 665,
      "containerId": null,
      "originalText": "TECHNOLOGY STACK\n\nFrontend:\n• SvelteKit\n• Cloudflare Workers\n• PixiJS 8\n• TailwindCSS\n• Howler.js\n\nBackend:\n• Go 1.24\n• Chi Router\n• pgx (Postgres driver)\n• gorilla/websocket\n• golang-jwt/jwt\n• bcrypt (password hashing)\n• oauth2 (Google OAuth)\n\nDatabase: PostgreSQL 16\nInfrastructure:\n• Railway (PaaS)\n• Cloudflare (CDN/Workers)\n• R2 (Object Storage)\n\nAuth (Go-based):\n• Email/Password (bcrypt)\n• Google OAuth 2.0\n• JWT sessions\n\nExternal:\n• Resend/SendGrid (Email)\n• Etherscan/BSCScan\n• Grafana (Monitoring)",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b1d"
    },
    {
      "type": "rectangle",
      "version": 219,
      "id": "5GdejsCi0_ZRLt3gA-SdS",
      "x": -2886.675318284503,
      "y": 585.5227357110635,
      "width": 450,
      "height": 482.87778702057085,
      "angle": 0,
      "strokeColor": "#2b8a3e",
      "backgroundColor": "#ebfbee",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 899650248,
      "versionNonce": 761928376,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422647177,
      "link": null,
      "locked": false,
      "index": "b1f"
    },
    {
      "type": "text",
      "version": 159,
      "id": "t-TQQTgAr9VI5LAI-8NYj",
      "x": -2864.8550746266874,
      "y": 602.8037103423276,
      "width": 257.8833312988281,
      "height": 440,
      "angle": 0,
      "strokeColor": "#2b8a3e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1085405640,
      "versionNonce": 1891798456,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422640238,
      "link": null,
      "locked": false,
      "text": "SCALING NOTES\n\nCurrent: 10K Players\n• Go: 2 vCPU, 4GB RAM\n• Postgres: Developer Plan\n• Cost: ~$40/mo\n• Latency: 80-120ms (Singapore)\n• Concurrent: 1000-2000\n\nFuture: 50K Players\n• Go: 4 vCPU, 8GB RAM\n• Postgres: Pro Plan (4GB RAM)\n• Redis: Optional cache layer\n• Cost: ~$90/mo\n• Horizontal scaling if needed\n\nFuture: 100K+ Players\n• Multiple Go instances\n• Read replicas\n• Separate WebSocket service\n• CDN for game assets\n• Cost: $200+/mo",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 325,
      "containerId": null,
      "originalText": "SCALING NOTES\n\nCurrent: 10K Players\n• Go: 2 vCPU, 4GB RAM\n• Postgres: Developer Plan\n• Cost: ~$40/mo\n• Latency: 80-120ms (Singapore)\n• Concurrent: 1000-2000\n\nFuture: 50K Players\n• Go: 4 vCPU, 8GB RAM\n• Postgres: Pro Plan (4GB RAM)\n• Redis: Optional cache layer\n• Cost: ~$90/mo\n• Horizontal scaling if needed\n\nFuture: 100K+ Players\n• Multiple Go instances\n• Read replicas\n• Separate WebSocket service\n• CDN for game assets\n• Cost: $200+/mo",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b1g"
    },
    {
      "type": "rectangle",
      "version": 168,
      "id": "EEFsikChUqjz5HMRkwV06",
      "x": -2888.4955619423195,
      "y": 1109.2993044425539,
      "width": 450,
      "height": 673.8899699113721,
      "angle": 0,
      "strokeColor": "#5c940d",
      "backgroundColor": "#f4fce3",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 719290568,
      "versionNonce": 159752376,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422661313,
      "link": null,
      "locked": false,
      "index": "b1h"
    },
    {
      "type": "text",
      "version": 129,
      "id": "VxtNneIVln5QlWXVWvTF7",
      "x": -2861.2145873110553,
      "y": 1133.8612537050822,
      "width": 331.5687255859375,
      "height": 660,
      "angle": 0,
      "strokeColor": "#5c940d",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 600057800,
      "versionNonce": 192789700,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1761630557541,
      "link": null,
      "locked": false,
      "text": "DATA FLOW: New Player\n\n1. Player clicks \"Sign in with Google\"\n   ↓\n2. Frontend redirects to /api/auth/google\n   ↓\n3. Go redirects to Google OAuth\n   ↓\n4. Google callback to Go backend\n   ↓\n5. Go exchanges code for user info\n   ↓\n6. Go creates/updates user in DB\n   ↓\n7. Go issues JWT token\n   ↓\n8. Redirect to /dashboard with token\n\nDATA FLOW: Crash Game\n\n1. Player places bet (100 gold)\n   ↓\n2. Go deducts from balance\n   ↓\n3. WebSocket broadcasts multiplier\n   ↓\n4. Player cashes out at 2.5x\n   ↓\n5. Go credits 250 gold\n   ↓\n6. INSERT game_sessions\n   result: {crash_point: 3.2, \n            cashout: 2.5}",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 425,
      "containerId": null,
      "originalText": "DATA FLOW: New Player\n\n1. Player clicks \"Sign in with Google\"\n   ↓\n2. Frontend redirects to /api/auth/google\n   ↓\n3. Go redirects to Google OAuth\n   ↓\n4. Google callback to Go backend\n   ↓\n5. Go exchanges code for user info\n   ↓\n6. Go creates/updates user in DB\n   ↓\n7. Go issues JWT token\n   ↓\n8. Redirect to /dashboard with token\n\nDATA FLOW: Crash Game\n\n1. Player places bet (100 gold)\n   ↓\n2. Go deducts from balance\n   ↓\n3. WebSocket broadcasts multiplier\n   ↓\n4. Player cashes out at 2.5x\n   ↓\n5. Go credits 250 gold\n   ↓\n6. INSERT game_sessions\n   result: {crash_point: 3.2, \n            cashout: 2.5}",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b1i"
    },
    {
      "type": "rectangle",
      "version": 145,
      "id": "gGpfn_w8g0gMbORK5Z0kB",
      "x": -2890.3158056001357,
      "y": 1809.5261068023178,
      "width": 450,
      "height": 421.8429238937926,
      "angle": 0,
      "strokeColor": "#862e9c",
      "backgroundColor": "#f3f0ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 125562568,
      "versionNonce": 299657912,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422686467,
      "link": null,
      "locked": false,
      "index": "b1j"
    },
    {
      "type": "text",
      "version": 139,
      "id": "dvGDRwQdx2YmQoQXfSafL",
      "x": -2873.9562929157682,
      "y": 1815.8856194866858,
      "width": 405.4166564941406,
      "height": 400,
      "angle": 0,
      "strokeColor": "#862e9c",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1319294408,
      "versionNonce": 625233864,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422678599,
      "link": null,
      "locked": false,
      "text": "DATA FLOW: USDT Purchase\n\n1. Distributor requests gold\n   ↓\n2. Admin provides USDT address\n   ↓\n3. Distributor sends USDT\n   ↓\n4. Admin checks Etherscan/BSCScan\n   ↓\n5. Admin confirms in Crypto Service\n   ↓\n6. System:\n   - INSERT crypto_purchases (status: confirmed)\n   - UPDATE distributor balance_gold += amount\n   - INSERT transaction record\n   ↓\n7. Distributor receives notification \nSecurity: Cold wallet,\nmanual verification prevents automated theft",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 375,
      "containerId": null,
      "originalText": "DATA FLOW: USDT Purchase\n\n1. Distributor requests gold\n   ↓\n2. Admin provides USDT address\n   ↓\n3. Distributor sends USDT\n   ↓\n4. Admin checks Etherscan/BSCScan\n   ↓\n5. Admin confirms in Crypto Service\n   ↓\n6. System:\n   - INSERT crypto_purchases (status: confirmed)\n   - UPDATE distributor balance_gold += amount\n   - INSERT transaction record\n   ↓\n7. Distributor receives notification \nSecurity: Cold wallet,\nmanual verification prevents automated theft",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b1k"
    },
    {
      "type": "rectangle",
      "version": 136,
      "id": "IE8aZ41p9VSQ59GH1LkB8",
      "x": -2890.3158056001357,
      "y": 2264.986837775766,
      "width": 450,
      "height": 564.7887516222924,
      "angle": 0,
      "strokeColor": "#c92a2a",
      "backgroundColor": "#ffe8e8",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 2119490760,
      "versionNonce": 643722952,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422700257,
      "link": null,
      "locked": false,
      "index": "b1l"
    },
    {
      "type": "text",
      "version": 132,
      "id": "GA6u638whzKQ8lbUN4R86",
      "x": -2868.4955619423195,
      "y": 2282.26781240703,
      "width": 284.6833190917969,
      "height": 520,
      "angle": 0,
      "strokeColor": "#c92a2a",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 405668808,
      "versionNonce": 625615800,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422695896,
      "link": null,
      "locked": false,
      "text": "SECURITY ZONES\n\n🟢 GREEN (Public)\n• CDN, static assets\n• Landing pages\n• No authentication required\n\n🟡 YELLOW (Authenticated)\n• Player game interface\n• Requires valid JWT\n• Game actions logged\n\n🟠 ORANGE (Role-Gated)\n• Agent/Distributor panels\n• Role-based access control\n• Gold transfer capabilities\n\n🔴 RED (Admin Only)\n• Gold minting\n• USDT confirmations\n• System configuration\n• User role management\n• 2FA required (future)\n\nRole Hierarchy:\nadmin > distributor > agent > player",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 325,
      "containerId": null,
      "originalText": "SECURITY ZONES\n\n🟢 GREEN (Public)\n• CDN, static assets\n• Landing pages\n• No authentication required\n\n🟡 YELLOW (Authenticated)\n• Player game interface\n• Requires valid JWT\n• Game actions logged\n\n🟠 ORANGE (Role-Gated)\n• Agent/Distributor panels\n• Role-based access control\n• Gold transfer capabilities\n\n🔴 RED (Admin Only)\n• Gold minting\n• USDT confirmations\n• System configuration\n• User role management\n• 2FA required (future)\n\nRole Hierarchy:\nadmin > distributor > agent > player",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b1m"
    },
    {
      "type": "arrow",
      "version": 90,
      "id": "eJAzBdfC2YdgJoU0QDaMZ",
      "x": -4454.877754862664,
      "y": 544.2241374807045,
      "width": 0,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 172640968,
      "versionNonce": 1678567368,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369190,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          0,
          50
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "index": "b1n"
    },
    {
      "type": "arrow",
      "version": 90,
      "id": "kUYNv6Qf6MKvdcQPZSbcR",
      "x": -4454.877754862664,
      "y": 744.2241374807045,
      "width": 0,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 524661192,
      "versionNonce": 1085058760,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369190,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          0,
          50
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "index": "b1o"
    },
    {
      "type": "arrow",
      "version": 90,
      "id": "sJOIAi3jyejCHX-sJrJpR",
      "x": -4654.877754862664,
      "y": 1244.2241374807045,
      "width": 0,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1849440456,
      "versionNonce": 599496136,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369190,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          0,
          50
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "index": "b1p"
    },
    {
      "type": "arrow",
      "version": 90,
      "id": "-xU6812zQkAvNzkbWH8DN",
      "x": -4254.877754862664,
      "y": 1244.2241374807045,
      "width": 0,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1254744008,
      "versionNonce": 844471496,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369190,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          0,
          50
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "index": "b1q"
    },
    {
      "type": "arrow",
      "version": 90,
      "id": "Fj3OD_Ekj9RP8OnJ8z7S1",
      "x": -4454.877754862664,
      "y": 1644.2241374807045,
      "width": 0,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 889890504,
      "versionNonce": 236372936,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369190,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          0,
          50
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "index": "b1r"
    },
    {
      "type": "arrow",
      "version": 90,
      "id": "qtLnZRDgnyjpYuqX0gNXR",
      "x": -4454.877754862664,
      "y": 2044.2241374807045,
      "width": 0,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1234865608,
      "versionNonce": 1159400136,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369190,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          0,
          50
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "index": "b1s"
    },
    {
      "type": "arrow",
      "version": 90,
      "id": "ute074J8butc9y7oUwl1n",
      "x": -4454.877754862664,
      "y": 2394.2241374807045,
      "width": 0,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 831886536,
      "versionNonce": 1107194312,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369190,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          0,
          50
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "index": "b1t"
    },
    {
      "type": "arrow",
      "version": 90,
      "id": "2_P2k6klO6ZkYdwTFUnuk",
      "x": -5074.877754862664,
      "y": 964.2241374807045,
      "width": 150,
      "height": 0,
      "angle": 0,
      "strokeColor": "#1864ab",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "dashed",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 311933896,
      "versionNonce": 1004337352,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369190,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          150,
          0
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "index": "b1u"
    },
    {
      "type": "arrow",
      "version": 90,
      "id": "fad2qQVkl_MelkwXMqAwj",
      "x": -5074.877754862664,
      "y": 1164.2241374807045,
      "width": 150,
      "height": 0,
      "angle": 0,
      "strokeColor": "#1864ab",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "dashed",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 2126316232,
      "versionNonce": 642949064,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369190,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          150,
          0
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "index": "b1v"
    },
    {
      "type": "arrow",
      "version": 90,
      "id": "mpJ82twSg9Nst_ziKJV9Q",
      "x": -5074.877754862664,
      "y": 1864.2241374807045,
      "width": 150,
      "height": 0,
      "angle": 0,
      "strokeColor": "#862e9c",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "dashed",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1688299976,
      "versionNonce": 561735368,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369190,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          150,
          0
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "index": "b1w"
    },
    {
      "type": "text",
      "version": 90,
      "id": "9loGDomHOVPd-imoqyXoh",
      "x": -4604.877754862664,
      "y": 564.2241374807045,
      "width": 100,
      "height": 20,
      "angle": 0,
      "strokeColor": "#868e96",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 2137059528,
      "versionNonce": 1777552840,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422369190,
      "link": null,
      "locked": false,
      "text": "HTTP/JSON",
      "fontSize": 14,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "top",
      "baseline": 16,
      "containerId": null,
      "originalText": "HTTP/JSON",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b1x"
    },
    {
      "type": "text",
      "version": 91,
      "id": "0ZMFqoLhxLuR5CqEMMe6s",
      "x": -4231.294418986199,
      "y": 1174.2241374807045,
      "width": 132.8333282470703,
      "height": 35,
      "angle": 0,
      "strokeColor": "#868e96",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "seed": 1184339912,
      "versionNonce": 2141117896,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760422788276,
      "link": null,
      "locked": false,
      "text": "WebSocket\n(Direct to Railway)",
      "fontSize": 14,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "top",
      "baseline": 36,
      "containerId": null,
      "originalText": "WebSocket\n(Direct to Railway)",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b1y"
    },
    {
      "type": "text",
      "version": 118,
      "id": "VThBt8EWihgsNl0Igj1YZ",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -137.64950774411454,
      "y": -472.87158297018823,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 1300,
      "height": 54,
      "seed": 1613287946,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436202631,
      "link": null,
      "locked": false,
      "fontSize": 40,
      "fontFamily": 1,
      "text": "BAJI CASINO — PRODUCTION DATABASE SCHEMA",
      "textAlign": "center",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "BAJI CASINO — PRODUCTION DATABASE SCHEMA",
      "autoResize": true,
      "lineHeight": 1.35,
      "versionNonce": 2010352662,
      "index": "b31",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 363,
      "id": "enxDNyVJZ4A-D1TiYgx7j",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": 427.65244557765163,
      "y": 254.6427824058551,
      "strokeColor": "#862e9c",
      "backgroundColor": "#f3f0ff",
      "width": 1219.5695198543515,
      "height": 741.3544926036078,
      "seed": 449910474,
      "groupIds": [
        "cEgOWb6zFGZXETWSksSwS"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436285453,
      "link": null,
      "locked": false,
      "versionNonce": 395237066,
      "index": "b3A",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 269,
      "id": "Tcwll3cKqSocXSMDn83UU",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": 446.4994699204267,
      "y": 262.7136120064298,
      "strokeColor": "#862e9c",
      "backgroundColor": "transparent",
      "width": 670.2000122070312,
      "height": 32.400000000000006,
      "seed": 584560010,
      "groupIds": [
        "cEgOWb6zFGZXETWSksSwS"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436285453,
      "link": null,
      "locked": false,
      "fontSize": 24,
      "fontFamily": 1,
      "text": "LEDGER (double-entry, append-only, BIGINT micro-units)",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "LEDGER (double-entry, append-only, BIGINT micro-units)",
      "autoResize": true,
      "lineHeight": 1.35,
      "versionNonce": 243684054,
      "index": "b3B",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 254,
      "id": "iPRM-icuqVQZUdUkZlSfR",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": 447.65244557765163,
      "y": 330.77312515092876,
      "strokeColor": "#862e9c",
      "backgroundColor": "#ffffff",
      "width": 350,
      "height": 229.3536066544878,
      "seed": 56454218,
      "groupIds": [
        "cEgOWb6zFGZXETWSksSwS"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [
        {
          "id": "DfEIhrZcVi7vWYcaSEwn3",
          "type": "arrow"
        },
        {
          "id": "TN21mz_E_Zh8CQ2KfqlTB",
          "type": "arrow"
        }
      ],
      "updated": 1760436291365,
      "link": null,
      "locked": false,
      "versionNonce": 578624394,
      "index": "b3C",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 245,
      "id": "VZZhzOG7qM9gyyaybbduG",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": 457.65244557765163,
      "y": 340.77312515092876,
      "strokeColor": "#862e9c",
      "backgroundColor": "transparent",
      "width": 304.6666564941406,
      "height": 211.25,
      "seed": 842879754,
      "groupIds": [
        "cEgOWb6zFGZXETWSksSwS"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [
        {
          "id": "DfEIhrZcVi7vWYcaSEwn3",
          "type": "arrow"
        }
      ],
      "updated": 1760436285453,
      "link": null,
      "locked": false,
      "fontSize": 13,
      "fontFamily": 3,
      "text": "ledger_accounts\n─────────────────────────\nPK  id UUID\nFK  owner_user_id UUID → users.id\n    type TEXT NOT NULL\n    CHECK (type IN ('treasury', 'admin',\n      'distributor', 'agent', 'player'))\n    created_at TIMESTAMPTZ\n\nIndexes:\n• (owner_user_id)\n• (type)\n• (owner_user_id, type)",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "ledger_accounts\n─────────────────────────\nPK  id UUID\nFK  owner_user_id UUID → users.id\n    type TEXT NOT NULL\n    CHECK (type IN ('treasury', 'admin',\n      'distributor', 'agent', 'player'))\n    created_at TIMESTAMPTZ\n\nIndexes:\n• (owner_user_id)\n• (type)\n• (owner_user_id, type)",
      "autoResize": true,
      "lineHeight": 1.25,
      "versionNonce": 1730250774,
      "index": "b3D",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 278,
      "id": "G8X92A50uGU1LMJSgHwJk",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": 448.6880668054014,
      "y": 571.8417619834191,
      "strokeColor": "#862e9c",
      "backgroundColor": "#ffffff",
      "width": 350,
      "height": 289.7098189319845,
      "seed": 837968330,
      "groupIds": [
        "cEgOWb6zFGZXETWSksSwS"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436285453,
      "link": null,
      "locked": false,
      "versionNonce": 1001073738,
      "index": "b3E",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 267,
      "id": "ywvyosVARMnZswvjogK5-",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": 458.6880668054014,
      "y": 581.8417619834191,
      "strokeColor": "#862e9c",
      "backgroundColor": "transparent",
      "width": 319.8999938964844,
      "height": 276.25,
      "seed": 2107086986,
      "groupIds": [
        "cEgOWb6zFGZXETWSksSwS"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436285453,
      "link": null,
      "locked": false,
      "fontSize": 13,
      "fontFamily": 3,
      "text": "account_balances (CACHE)\n─────────────────────────\nPK  account_id UUID → ledger_accounts.id\n    balance_micro BIGINT NOT NULL\nFK  last_entry_id UUID → ledger_entries.id\n    updated_at TIMESTAMPTZ NOT NULL\n    version BIGINT DEFAULT 0\n\nConstraints:\n• CHECK (balance_micro >= 0)\n\nIndexes:\n• (updated_at)\n• (balance_micro) WHERE balance_micro > 0\n\nUpdated via trigger or in same TX\nas ledger_entries insert",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "account_balances (CACHE)\n─────────────────────────\nPK  account_id UUID → ledger_accounts.id\n    balance_micro BIGINT NOT NULL\nFK  last_entry_id UUID → ledger_entries.id\n    updated_at TIMESTAMPTZ NOT NULL\n    version BIGINT DEFAULT 0\n\nConstraints:\n• CHECK (balance_micro >= 0)\n\nIndexes:\n• (updated_at)\n• (balance_micro) WHERE balance_micro > 0\n\nUpdated via trigger or in same TX\nas ledger_entries insert",
      "autoResize": true,
      "lineHeight": 1.25,
      "versionNonce": 153359702,
      "index": "b3F",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 414,
      "id": "WNCJVp84qM56tDN9h9qTv",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": 849.7567036378916,
      "y": 313.1675642791842,
      "strokeColor": "#862e9c",
      "backgroundColor": "#ffffff",
      "width": 350,
      "height": 391.10165243723094,
      "seed": 1961359178,
      "groupIds": [
        "jIALouWLr-LNJKDiaqzxN",
        "cEgOWb6zFGZXETWSksSwS"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436285453,
      "link": null,
      "locked": false,
      "versionNonce": 450040586,
      "index": "b3FV",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 404,
      "id": "1izgCvVMASkcANcwJ8QFV",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": 859.7567036378916,
      "y": 323.1675642791842,
      "strokeColor": "#862e9c",
      "backgroundColor": "transparent",
      "width": 319.8999938964844,
      "height": 373.75,
      "seed": 1212055050,
      "groupIds": [
        "jIALouWLr-LNJKDiaqzxN",
        "cEgOWb6zFGZXETWSksSwS"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [
        {
          "id": "T6xUqBnndSoqxcWdYHS-G",
          "type": "arrow"
        },
        {
          "id": "TN21mz_E_Zh8CQ2KfqlTB",
          "type": "arrow"
        }
      ],
      "updated": 1760436285453,
      "link": null,
      "locked": false,
      "fontSize": 13,
      "fontFamily": 3,
      "text": "transfers\n─────────────────────────\nPK  id UUID\n    idempotency_key TEXT UNIQUE NOT NULL\n    kind TEXT NOT NULL\n    CHECK (kind IN ('mint', 'burn',\n      'transfer', 'bet_reserve',\n      'bet_settle_win', 'bet_settle_lose',\n      'cashout', 'refund'))\nFK  from_account_id UUID → ledger_accounts\nFK  to_account_id UUID → ledger_accounts\n    amount_micro BIGINT NOT NULL\n    meta JSONB\n    status TEXT NOT NULL DEFAULT 'pending'\n    CHECK (status IN ('pending', 'posted',\n                      'reversed'))\nFK  reversed_transfer_id UUID → transfers\n    created_at TIMESTAMPTZ\n\nIndexes:\n• (from_account_id, created_at)\n• (to_account_id, created_at)\n• (status) WHERE status = 'pending'",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "transfers\n─────────────────────────\nPK  id UUID\n    idempotency_key TEXT UNIQUE NOT NULL\n    kind TEXT NOT NULL\n    CHECK (kind IN ('mint', 'burn',\n      'transfer', 'bet_reserve',\n      'bet_settle_win', 'bet_settle_lose',\n      'cashout', 'refund'))\nFK  from_account_id UUID → ledger_accounts\nFK  to_account_id UUID → ledger_accounts\n    amount_micro BIGINT NOT NULL\n    meta JSONB\n    status TEXT NOT NULL DEFAULT 'pending'\n    CHECK (status IN ('pending', 'posted',\n                      'reversed'))\nFK  reversed_transfer_id UUID → transfers\n    created_at TIMESTAMPTZ\n\nIndexes:\n• (from_account_id, created_at)\n• (to_account_id, created_at)\n• (status) WHERE status = 'pending'",
      "autoResize": true,
      "lineHeight": 1.25,
      "versionNonce": 2112027286,
      "index": "b3G",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 567,
      "id": "7IcE9wRQeYUIyD66mjWsP",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": 1258.0746890646299,
      "y": 299.70448831843834,
      "strokeColor": "#862e9c",
      "backgroundColor": "#ffffff",
      "width": 355.21112174348934,
      "height": 398.02780435872256,
      "seed": 1687563466,
      "groupIds": [
        "mwUpLZ1jmgEOFvb_dTUU9",
        "cEgOWb6zFGZXETWSksSwS"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436285453,
      "link": null,
      "locked": false,
      "versionNonce": 30417354,
      "index": "b3HV",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 546,
      "id": "pgfqVtA0rvXN2yNvgnGQM",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": 1268.0746890646299,
      "y": 309.70448831843834,
      "strokeColor": "#862e9c",
      "backgroundColor": "transparent",
      "width": 327.51666259765625,
      "height": 373.75,
      "seed": 1602880394,
      "groupIds": [
        "mwUpLZ1jmgEOFvb_dTUU9",
        "cEgOWb6zFGZXETWSksSwS"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [
        {
          "id": "T6xUqBnndSoqxcWdYHS-G",
          "type": "arrow"
        }
      ],
      "updated": 1760436285453,
      "link": null,
      "locked": false,
      "fontSize": 13,
      "fontFamily": 3,
      "text": "ledger_entries (append-only)\n─────────────────────────\nPK  id UUID\nFK  account_id UUID → ledger_accounts\nFK  transfer_id UUID → transfers.id\n    direction TEXT NOT NULL\n    CHECK (direction IN ('debit','credit'))\n    amount_micro BIGINT NOT NULL\n    created_at TIMESTAMPTZ\n    description TEXT\n\nConstraints:\n• CHECK (amount_micro > 0)\n• Per transfer:\n  SUM(CASE direction='debit'\n  THEN amount_micro ELSE 0 END) =\n  SUM(CASE direction='credit'\n  THEN amount_micro ELSE 0 END)\n\nIndexes:\n• (account_id, created_at)\n• (transfer_id)\n• (created_at)",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "ledger_entries (append-only)\n─────────────────────────\nPK  id UUID\nFK  account_id UUID → ledger_accounts\nFK  transfer_id UUID → transfers.id\n    direction TEXT NOT NULL\n    CHECK (direction IN ('debit','credit'))\n    amount_micro BIGINT NOT NULL\n    created_at TIMESTAMPTZ\n    description TEXT\n\nConstraints:\n• CHECK (amount_micro > 0)\n• Per transfer:\n  SUM(CASE direction='debit'\n  THEN amount_micro ELSE 0 END) =\n  SUM(CASE direction='credit'\n  THEN amount_micro ELSE 0 END)\n\nIndexes:\n• (account_id, created_at)\n• (transfer_id)\n• (created_at)",
      "autoResize": true,
      "lineHeight": 1.25,
      "versionNonce": 1544763350,
      "index": "b3I",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 524,
      "id": "MXjupUmLXSugccI5lwoMX",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": 817.3692238842865,
      "y": 732.9722769888672,
      "strokeColor": "#862e9c",
      "backgroundColor": "#fff5f5",
      "width": 802.1303142903301,
      "height": 236.76242059618482,
      "seed": 1666515530,
      "groupIds": [
        "vDfOgnGTDDFz8_K8i0Dnz",
        "cEgOWb6zFGZXETWSksSwS"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436285453,
      "link": null,
      "locked": false,
      "versionNonce": 196958346,
      "index": "b3IV",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 513,
      "id": "n4uj_qy7KeSWnZ2jzhkHU",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": 826.1382024248859,
      "y": 741.7412555294666,
      "strokeColor": "#862e9c",
      "backgroundColor": "transparent",
      "width": 911.9737682223415,
      "height": 219.22446351498596,
      "seed": 449980682,
      "groupIds": [
        "vDfOgnGTDDFz8_K8i0Dnz",
        "cEgOWb6zFGZXETWSksSwS"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436285453,
      "link": null,
      "locked": false,
      "fontSize": 11.39967210277927,
      "fontFamily": 3,
      "text": "LEDGER CRITICAL NOTES:\n\n1. ISOLATION LEVEL: Use SERIALIZABLE or SELECT ... FOR UPDATE NOWAIT on account_balances for all balance operations\n2. LOCK ORDER: Always acquire locks in account_id ASC order to prevent deadlocks\n3. DEBIT/CREDIT CONVENTION: Debit = money leaving account (positive), Credit = money entering account (positive)\n4. BALANCE UPDATE: account_balances.balance_micro += amount_micro for credit, -= for debit\n5. TRANSFER STATUS STATE MACHINE:\n   pending -> posted (only valid transition)\n   posted -> reversed (creates new opposing transfer with reversed_transfer_id link)\n6. PARTITION STRATEGY: Partition ledger_entries by created_at monthly, create 3 months in advance\n7. RECONCILIATION: Daily job sums ledger_entries and compares to account_balances.balance_micro\n8. MICRO-UNITS: 1 GOLD = 1,000,000 micro. All display divisions by 1e6, all storage in micro.\n9. IDEMPOTENCY: Always check idempotency_key before creating transfer\n10. AUDIT: Every transfer logged in audit_logs with before/after balance snapshots",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "LEDGER CRITICAL NOTES:\n\n1. ISOLATION LEVEL: Use SERIALIZABLE or SELECT ... FOR UPDATE NOWAIT on account_balances for all balance operations\n2. LOCK ORDER: Always acquire locks in account_id ASC order to prevent deadlocks\n3. DEBIT/CREDIT CONVENTION: Debit = money leaving account (positive), Credit = money entering account (positive)\n4. BALANCE UPDATE: account_balances.balance_micro += amount_micro for credit, -= for debit\n5. TRANSFER STATUS STATE MACHINE:\n   pending -> posted (only valid transition)\n   posted -> reversed (creates new opposing transfer with reversed_transfer_id link)\n6. PARTITION STRATEGY: Partition ledger_entries by created_at monthly, create 3 months in advance\n7. RECONCILIATION: Daily job sums ledger_entries and compares to account_balances.balance_micro\n8. MICRO-UNITS: 1 GOLD = 1,000,000 micro. All display divisions by 1e6, all storage in micro.\n9. IDEMPOTENCY: Always check idempotency_key before creating transfer\n10. AUDIT: Every transfer logged in audit_logs with before/after balance snapshots",
      "autoResize": true,
      "lineHeight": 1.25,
      "versionNonce": 466210070,
      "index": "b3J",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 142,
      "id": "y4DlvPtUYPu-GmWKROUD9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -468.7433931461777,
      "y": 808.1886646637853,
      "strokeColor": "#2b8a3e",
      "backgroundColor": "#ebfbee",
      "width": 827.7046076859665,
      "height": 673.2389261022117,
      "seed": 494696394,
      "groupIds": [
        "3UlFrEqqNfQ1GPv73726w"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436251682,
      "link": null,
      "locked": false,
      "versionNonce": 1863804694,
      "index": "b3M",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 48,
      "id": "LkRCYQlMW_A2mpbfKmX00",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -448.7433931461777,
      "y": 823.1886646637853,
      "strokeColor": "#2b8a3e",
      "backgroundColor": "transparent",
      "width": 500,
      "height": 32,
      "seed": 1533996682,
      "groupIds": [
        "3UlFrEqqNfQ1GPv73726w"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436251682,
      "link": null,
      "locked": false,
      "fontSize": 24,
      "fontFamily": 1,
      "text": "GAMES (provably-fair)",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "GAMES (provably-fair)",
      "autoResize": true,
      "lineHeight": 1.35,
      "versionNonce": 1963332694,
      "index": "b3N",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 71,
      "id": "zsJrF-qi1lv2nFyPcMseP",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -448.7433931461777,
      "y": 868.1886646637853,
      "strokeColor": "#2b8a3e",
      "backgroundColor": "#ffffff",
      "width": 324.14248491099875,
      "height": 316.95916752623225,
      "seed": 157584714,
      "groupIds": [
        "3UlFrEqqNfQ1GPv73726w"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436251682,
      "link": null,
      "locked": false,
      "versionNonce": 992811414,
      "index": "b3O",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 78,
      "id": "PLwtqDwd7XmZ6AiNGgIGr",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -438.7433931461777,
      "y": 878.1886646637853,
      "strokeColor": "#2b8a3e",
      "backgroundColor": "transparent",
      "width": 312.2833251953125,
      "height": 292.5,
      "seed": 213406730,
      "groupIds": [
        "3UlFrEqqNfQ1GPv73726w"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436251682,
      "link": null,
      "locked": false,
      "fontSize": 13,
      "fontFamily": 3,
      "text": "game_rounds (crash only)\n─────────────────────────\nPK  id UUID\n    game_type TEXT NOT NULL\n    CHECK (game_type IN ('slot','crash'))\n    server_seed_hash TEXT NOT NULL\n    server_seed TEXT NULL\n    next_nonce BIGINT DEFAULT 0\n    started_at TIMESTAMPTZ\n    ended_at TIMESTAMPTZ NULL\n    crash_multiplier_ppm BIGINT NULL\n    status TEXT NOT NULL\n    CHECK (status IN ('pending',\n      'running', 'ended', 'cancelled'))\n\nIndexes:\n• (game_type, status)\n• (started_at)",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "game_rounds (crash only)\n─────────────────────────\nPK  id UUID\n    game_type TEXT NOT NULL\n    CHECK (game_type IN ('slot','crash'))\n    server_seed_hash TEXT NOT NULL\n    server_seed TEXT NULL\n    next_nonce BIGINT DEFAULT 0\n    started_at TIMESTAMPTZ\n    ended_at TIMESTAMPTZ NULL\n    crash_multiplier_ppm BIGINT NULL\n    status TEXT NOT NULL\n    CHECK (status IN ('pending',\n      'running', 'ended', 'cancelled'))\n\nIndexes:\n• (game_type, status)\n• (started_at)",
      "autoResize": true,
      "lineHeight": 1.25,
      "versionNonce": 1220638422,
      "index": "b3P",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 151,
      "id": "eVY4fgZt9NPpLhaQtDhgO",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -30.036179837202212,
      "y": 907.542271318273,
      "strokeColor": "#2b8a3e",
      "backgroundColor": "#ffffff",
      "width": 340,
      "height": 495.211121743489,
      "seed": 1734689482,
      "groupIds": [
        "3UlFrEqqNfQ1GPv73726w"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436251682,
      "link": null,
      "locked": false,
      "versionNonce": 1985489942,
      "index": "b3Q",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 135,
      "id": "5wGSWWYXbhWcwQAcmCHWo",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -20.036179837202212,
      "y": 917.542271318273,
      "strokeColor": "#2b8a3e",
      "backgroundColor": "transparent",
      "width": 319.8999938964844,
      "height": 471.25,
      "seed": 604395914,
      "groupIds": [
        "3UlFrEqqNfQ1GPv73726w"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [
        {
          "id": "2TKxkTmUepytH2PaXkYfC",
          "type": "arrow"
        },
        {
          "id": "fKHwJd8Dukd2Crppc0xtC",
          "type": "arrow"
        }
      ],
      "updated": 1760436251682,
      "link": null,
      "locked": false,
      "fontSize": 13,
      "fontFamily": 3,
      "text": "game_sessions (partitioned monthly)\n─────────────────────────\nPK  id UUID\nFK  player_id UUID → users.id\nFK  round_id UUID → game_rounds.id NULL\n    game_type TEXT NOT NULL\n    CHECK (game_type IN ('slot', 'crash'))\n    bet_amount_micro BIGINT NOT NULL\n    payout_amount_micro BIGINT DEFAULT 0\n    cashout_multiplier_ppm BIGINT NULL\n    status TEXT NOT NULL\n    CHECK (status IN ('pending_bet',\n      'active', 'cashed_out', 'busted',\n      'settled', 'refunded'))\n    result JSONB\n    server_seed_hash TEXT NOT NULL\n    client_seed TEXT NOT NULL\n    nonce BIGINT NOT NULL\n    created_at TIMESTAMPTZ\n    ended_at TIMESTAMPTZ NULL\n\nConstraints:\n• CHECK (bet_amount_micro > 0)\n• CHECK (payout_amount_micro >= 0)\n• UNIQUE (round_id, player_id)\n  WHERE game_type = 'crash'\n\nIndexes:\n• (player_id, created_at)",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "game_sessions (partitioned monthly)\n─────────────────────────\nPK  id UUID\nFK  player_id UUID → users.id\nFK  round_id UUID → game_rounds.id NULL\n    game_type TEXT NOT NULL\n    CHECK (game_type IN ('slot', 'crash'))\n    bet_amount_micro BIGINT NOT NULL\n    payout_amount_micro BIGINT DEFAULT 0\n    cashout_multiplier_ppm BIGINT NULL\n    status TEXT NOT NULL\n    CHECK (status IN ('pending_bet',\n      'active', 'cashed_out', 'busted',\n      'settled', 'refunded'))\n    result JSONB\n    server_seed_hash TEXT NOT NULL\n    client_seed TEXT NOT NULL\n    nonce BIGINT NOT NULL\n    created_at TIMESTAMPTZ\n    ended_at TIMESTAMPTZ NULL\n\nConstraints:\n• CHECK (bet_amount_micro > 0)\n• CHECK (payout_amount_micro >= 0)\n• UNIQUE (round_id, player_id)\n  WHERE game_type = 'crash'\n\nIndexes:\n• (player_id, created_at)",
      "autoResize": true,
      "lineHeight": 1.25,
      "versionNonce": 1105606998,
      "index": "b3R",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 105,
      "id": "S4ZM37Gyz46NF9jvgsA8l",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -446.67215069067834,
      "y": 1198.9341048235196,
      "strokeColor": "#2b8a3e",
      "backgroundColor": "#fff5f5",
      "width": 320,
      "height": 270.77845576447476,
      "seed": 1104582730,
      "groupIds": [
        "3UlFrEqqNfQ1GPv73726w"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436251684,
      "link": null,
      "locked": false,
      "versionNonce": 1485730070,
      "index": "b3S",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 84,
      "id": "ZCECyJ60MpBKtwniYXJyH",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -436.67215069067834,
      "y": 1208.9341048235196,
      "strokeColor": "#2b8a3e",
      "backgroundColor": "transparent",
      "width": 251.35000610351562,
      "height": 260,
      "seed": 548470538,
      "groupIds": [
        "3UlFrEqqNfQ1GPv73726w"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436251684,
      "link": null,
      "locked": false,
      "fontSize": 13,
      "fontFamily": 3,
      "text": "PROVABLY FAIR:\n\nresult = HMAC_SHA256(\n  server_seed,\n  client_seed + \":\" + nonce\n)\n\nFor crash:\ncrash_point = hash_to_multiplier(\n  result\n)\n\nPartition game_sessions by\ncreated_at (monthly)\n\nGo constants defined in code",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "PROVABLY FAIR:\n\nresult = HMAC_SHA256(\n  server_seed,\n  client_seed + \":\" + nonce\n)\n\nFor crash:\ncrash_point = hash_to_multiplier(\n  result\n)\n\nPartition game_sessions by\ncreated_at (monthly)\n\nGo constants defined in code",
      "autoResize": true,
      "lineHeight": 1.25,
      "versionNonce": 1863048790,
      "index": "b3T",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 291,
      "id": "NCs0jdiCvPCrbgqCOYJfI",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -1174.5183845614417,
      "y": -283.2410725320268,
      "strokeColor": "#c2255c",
      "backgroundColor": "#fff0f6",
      "width": 600,
      "height": 470.81147136921555,
      "seed": 1829801418,
      "groupIds": [
        "cwFYNoIhlt9ciN1irYqN8"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [
        {
          "id": "IyXiMPRNNpEIyj1K6RJpR",
          "type": "arrow"
        }
      ],
      "updated": 1760436465481,
      "link": null,
      "locked": false,
      "versionNonce": 1027557898,
      "index": "b3U",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 255,
      "id": "byw2v24HrYAEohmw5vWDu",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -1154.5183845614417,
      "y": -268.2410725320268,
      "strokeColor": "#c2255c",
      "backgroundColor": "transparent",
      "width": 400,
      "height": 32,
      "seed": 202392714,
      "groupIds": [
        "cwFYNoIhlt9ciN1irYqN8"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436243599,
      "link": null,
      "locked": false,
      "fontSize": 24,
      "fontFamily": 1,
      "text": "CRYPTO PURCHASES",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "CRYPTO PURCHASES",
      "autoResize": true,
      "lineHeight": 1.35,
      "versionNonce": 1216256854,
      "index": "b3V",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 302,
      "id": "wyttZT6CrdNiZ3429iH4C",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -1154.5183845614417,
      "y": -223.2410725320268,
      "strokeColor": "#c2255c",
      "backgroundColor": "#ffffff",
      "width": 560,
      "height": 392.88271382471504,
      "seed": 124461898,
      "groupIds": [
        "cwFYNoIhlt9ciN1irYqN8"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [
        {
          "id": "IyXiMPRNNpEIyj1K6RJpR",
          "type": "arrow"
        }
      ],
      "updated": 1760436461888,
      "link": null,
      "locked": false,
      "versionNonce": 1613475146,
      "index": "b3W",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 256,
      "id": "1c7W9rlMfGDVaJmoCxaQ1",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -1144.5183845614417,
      "y": -213.2410725320268,
      "strokeColor": "#c2255c",
      "backgroundColor": "transparent",
      "width": 373.2166748046875,
      "height": 373.75,
      "seed": 2038180362,
      "groupIds": [
        "cwFYNoIhlt9ciN1irYqN8"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436243599,
      "link": null,
      "locked": false,
      "fontSize": 13,
      "fontFamily": 3,
      "text": "crypto_purchases\n─────────────────────────\nPK  id UUID\nFK  distributor_id UUID → users.id\n    chain TEXT NOT NULL\n    CHECK (chain IN ('ETH', 'BSC', 'TRON'))\n    token TEXT NOT NULL\n    CHECK (token IN ('USDT'))\n    deposit_address TEXT NOT NULL\n    tx_hash TEXT NOT NULL\n    webhook_id TEXT UNIQUE\n    confirmations INT DEFAULT 0\n    usdt_micro BIGINT NOT NULL\n    gold_micro BIGINT NOT NULL\n    status TEXT NOT NULL\n    CHECK (status IN ('pending', 'confirmed',\n                      'failed', 'manual_review'))\n    created_at TIMESTAMPTZ\n    confirmed_at TIMESTAMPTZ NULL\n\nIndexes:\n• (distributor_id, status)\n• (chain, token, status)",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "crypto_purchases\n─────────────────────────\nPK  id UUID\nFK  distributor_id UUID → users.id\n    chain TEXT NOT NULL\n    CHECK (chain IN ('ETH', 'BSC', 'TRON'))\n    token TEXT NOT NULL\n    CHECK (token IN ('USDT'))\n    deposit_address TEXT NOT NULL\n    tx_hash TEXT NOT NULL\n    webhook_id TEXT UNIQUE\n    confirmations INT DEFAULT 0\n    usdt_micro BIGINT NOT NULL\n    gold_micro BIGINT NOT NULL\n    status TEXT NOT NULL\n    CHECK (status IN ('pending', 'confirmed',\n                      'failed', 'manual_review'))\n    created_at TIMESTAMPTZ\n    confirmed_at TIMESTAMPTZ NULL\n\nIndexes:\n• (distributor_id, status)\n• (chain, token, status)",
      "autoResize": true,
      "lineHeight": 1.25,
      "versionNonce": 2130984406,
      "index": "b3X",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 265,
      "id": "SQMubbA5EVqWpalUEvV16",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -481.80635183817617,
      "y": -286.0395277847274,
      "strokeColor": "#f08c00",
      "backgroundColor": "#fff9db",
      "width": 1000,
      "height": 466.6689864582167,
      "seed": 2034129098,
      "groupIds": [
        "X_QUXMURO4G_Mt3yTyrb-"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436658338,
      "link": null,
      "locked": false,
      "versionNonce": 1177814474,
      "index": "b3Y",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 214,
      "id": "fJvWjL5OfHV5w4RBIA1vU",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -461.80635183817617,
      "y": -271.0395277847274,
      "strokeColor": "#f08c00",
      "backgroundColor": "transparent",
      "width": 300,
      "height": 32,
      "seed": 105688970,
      "groupIds": [
        "X_QUXMURO4G_Mt3yTyrb-"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436246898,
      "link": null,
      "locked": false,
      "fontSize": 24,
      "fontFamily": 1,
      "text": "ADMIN / AUDIT",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "ADMIN / AUDIT",
      "autoResize": true,
      "lineHeight": 1.35,
      "versionNonce": 326812822,
      "index": "b3Z",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 237,
      "id": "RnoM76Mq4WhvgqvlyG3M0",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -461.80635183817617,
      "y": -226.0395277847274,
      "strokeColor": "#f08c00",
      "backgroundColor": "#ffffff",
      "width": 460,
      "height": 366.99218313097305,
      "seed": 1960980042,
      "groupIds": [
        "X_QUXMURO4G_Mt3yTyrb-"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436246898,
      "link": null,
      "locked": false,
      "versionNonce": 1075954134,
      "index": "b3a",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 215,
      "id": "ibtPTnV9x_tgmj4F9KQLg",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -451.80635183817617,
      "y": -216.0395277847274,
      "strokeColor": "#f08c00",
      "backgroundColor": "transparent",
      "width": 342.75,
      "height": 341.25,
      "seed": 1507448074,
      "groupIds": [
        "X_QUXMURO4G_Mt3yTyrb-"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436246898,
      "link": null,
      "locked": false,
      "fontSize": 13,
      "fontFamily": 3,
      "text": "admin_approvals (dual-control)\n─────────────────────────\nPK  id UUID\n    request_type TEXT NOT NULL\n    CHECK (request_type IN ('mint_gold',\n      'burn_gold', 'adjust_balance',\n      'unlock_account'))\nFK  requested_by UUID → users.id\nFK  approved_by UUID → users.id NULL\n    status TEXT NOT NULL\n    CHECK (status IN ('pending', 'approved',\n                      'rejected', 'expired'))\n    payload JSONB\n    expires_at TIMESTAMPTZ NOT NULL\n    created_at TIMESTAMPTZ\n    approved_at TIMESTAMPTZ NULL\n\nIndexes:\n• (status, expires_at)\n• (request_type, status)\n• (requested_by)",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "admin_approvals (dual-control)\n─────────────────────────\nPK  id UUID\n    request_type TEXT NOT NULL\n    CHECK (request_type IN ('mint_gold',\n      'burn_gold', 'adjust_balance',\n      'unlock_account'))\nFK  requested_by UUID → users.id\nFK  approved_by UUID → users.id NULL\n    status TEXT NOT NULL\n    CHECK (status IN ('pending', 'approved',\n                      'rejected', 'expired'))\n    payload JSONB\n    expires_at TIMESTAMPTZ NOT NULL\n    created_at TIMESTAMPTZ\n    approved_at TIMESTAMPTZ NULL\n\nIndexes:\n• (status, expires_at)\n• (request_type, status)\n• (requested_by)",
      "autoResize": true,
      "lineHeight": 1.25,
      "versionNonce": 1366759190,
      "index": "b3b",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 253,
      "id": "6fUQc1cCsi9a1nPHV3mwq",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": 18.19364816182383,
      "y": -226.0395277847274,
      "strokeColor": "#f08c00",
      "backgroundColor": "#ffffff",
      "width": 480,
      "height": 366.992183130973,
      "seed": 1991156682,
      "groupIds": [
        "X_QUXMURO4G_Mt3yTyrb-"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436246898,
      "link": null,
      "locked": false,
      "versionNonce": 1341113430,
      "index": "b3c",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 215,
      "id": "1NGiCIxDxcqALzAj8oftw",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": 28.19364816182383,
      "y": -216.0395277847274,
      "strokeColor": "#f08c00",
      "backgroundColor": "transparent",
      "width": 289.4333190917969,
      "height": 325,
      "seed": 628857482,
      "groupIds": [
        "X_QUXMURO4G_Mt3yTyrb-"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436246898,
      "link": null,
      "locked": false,
      "fontSize": 13,
      "fontFamily": 3,
      "text": "audit_logs (partitioned monthly)\n─────────────────────────\nPK  id UUID\nFK  actor_user_id UUID → users.id\n    action TEXT NOT NULL\n    entity_type TEXT\n    entity_id UUID\n    before JSONB\n    after JSONB\n    ip INET\n    user_agent TEXT\n    created_at TIMESTAMPTZ NOT NULL\n\nIndexes:\n• (actor_user_id, created_at)\n• (entity_type, entity_id, created_at)\n• (action, created_at)\n• (created_at) -- for partitioning\n\nPartition by created_at monthly",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "audit_logs (partitioned monthly)\n─────────────────────────\nPK  id UUID\nFK  actor_user_id UUID → users.id\n    action TEXT NOT NULL\n    entity_type TEXT\n    entity_id UUID\n    before JSONB\n    after JSONB\n    ip INET\n    user_agent TEXT\n    created_at TIMESTAMPTZ NOT NULL\n\nIndexes:\n• (actor_user_id, created_at)\n• (entity_type, entity_id, created_at)\n• (action, created_at)\n• (created_at) -- for partitioning\n\nPartition by created_at monthly",
      "autoResize": true,
      "lineHeight": 1.25,
      "versionNonce": 1835059606,
      "index": "b3d",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 406,
      "id": "IazYMGOAqdOiUzE00xQyi",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -1734.3723801640087,
      "y": 259.4289216900354,
      "strokeColor": "#495057",
      "backgroundColor": "#f8f9fa",
      "width": 1183.2649823323018,
      "height": 550,
      "seed": 1157347658,
      "groupIds": [
        "slr_aNrjdABj3UGDSNTdB"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436240814,
      "link": null,
      "locked": false,
      "versionNonce": 607838550,
      "index": "b3e",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 393,
      "id": "Pa7RqxP9NIV__Ef0RK9Ih",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -1714.3723801640087,
      "y": 293.07010378952964,
      "strokeColor": "#495057",
      "backgroundColor": "transparent",
      "width": 273.5833435058594,
      "height": 32.400000000000006,
      "seed": 613023754,
      "groupIds": [
        "slr_aNrjdABj3UGDSNTdB"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436240814,
      "link": null,
      "locked": false,
      "fontSize": 24,
      "fontFamily": 1,
      "text": "SUPPORTING TABLES",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "SUPPORTING TABLES",
      "autoResize": true,
      "lineHeight": 1.35,
      "versionNonce": 608192150,
      "index": "b3f",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 459,
      "id": "U7cs5BjNiHhdHWPbOhf7i",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -1716.4436226195082,
      "y": 351.5331797502756,
      "strokeColor": "#495057",
      "backgroundColor": "#ffffff",
      "width": 360,
      "height": 229.7098189319845,
      "seed": 1881239242,
      "groupIds": [
        "hgZYaV2C1tRF36mSjaSph",
        "slr_aNrjdABj3UGDSNTdB"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436240814,
      "link": null,
      "locked": false,
      "versionNonce": 1625752534,
      "index": "b3fV",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 451,
      "id": "QVOwJhDjLkDYz5wXlrn5-",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -1706.4436226195082,
      "y": 361.5331797502756,
      "strokeColor": "#495057",
      "backgroundColor": "transparent",
      "width": 220.88333129882812,
      "height": 211.25,
      "seed": 475858314,
      "groupIds": [
        "hgZYaV2C1tRF36mSjaSph",
        "slr_aNrjdABj3UGDSNTdB"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436240814,
      "link": null,
      "locked": false,
      "fontSize": 13,
      "fontFamily": 3,
      "text": "idempotency_keys\n─────────────────────────\nPK  key TEXT\nFK  user_id UUID → users.id\n    request_hash TEXT\n    first_seen_at TIMESTAMPTZ\n    expires_at TIMESTAMPTZ\n    response_code INT\n    response_body_sha256 TEXT\n\nIndexes:\n• (user_id, first_seen_at)\n• (expires_at) -- for cleanup",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "idempotency_keys\n─────────────────────────\nPK  key TEXT\nFK  user_id UUID → users.id\n    request_hash TEXT\n    first_seen_at TIMESTAMPTZ\n    expires_at TIMESTAMPTZ\n    response_code INT\n    response_body_sha256 TEXT\n\nIndexes:\n• (user_id, first_seen_at)\n• (expires_at) -- for cleanup",
      "autoResize": true,
      "lineHeight": 1.25,
      "versionNonce": 1816402198,
      "index": "b3g",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 439,
      "id": "w9iZru-qI-j38SlQnEGcf",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -1324.016167886512,
      "y": 291.46714854079414,
      "strokeColor": "#495057",
      "backgroundColor": "#ffffff",
      "width": 360,
      "height": 275.2771529529703,
      "seed": 1383580746,
      "groupIds": [
        "1k_vi3rqmk4GEP2tz9Vjz",
        "slr_aNrjdABj3UGDSNTdB"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436240814,
      "link": null,
      "locked": false,
      "versionNonce": 1305249366,
      "index": "b3il",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 415,
      "id": "RJPImOJQTvGflGXcxjziv",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -1314.016167886512,
      "y": 301.46714854079414,
      "strokeColor": "#495057",
      "backgroundColor": "transparent",
      "width": 342.75,
      "height": 260,
      "seed": 1548528394,
      "groupIds": [
        "1k_vi3rqmk4GEP2tz9Vjz",
        "slr_aNrjdABj3UGDSNTdB"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436240814,
      "link": null,
      "locked": false,
      "fontSize": 13,
      "fontFamily": 3,
      "text": "jobs\n─────────────────────────\nPK  id UUID\n    type TEXT NOT NULL\n    payload JSONB\n    run_at TIMESTAMPTZ NOT NULL\n    status TEXT NOT NULL\n    CHECK (status IN ('pending', 'running',\n                      'completed', 'failed'))\n    attempts INT DEFAULT 0\n    last_error TEXT\n    completed_at TIMESTAMPTZ NULL\n\nIndexes:\n• (status, run_at)\n• (type, status)",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "jobs\n─────────────────────────\nPK  id UUID\n    type TEXT NOT NULL\n    payload JSONB\n    run_at TIMESTAMPTZ NOT NULL\n    status TEXT NOT NULL\n    CHECK (status IN ('pending', 'running',\n                      'completed', 'failed'))\n    attempts INT DEFAULT 0\n    last_error TEXT\n    completed_at TIMESTAMPTZ NULL\n\nIndexes:\n• (status, run_at)\n• (type, status)",
      "autoResize": true,
      "lineHeight": 1.25,
      "versionNonce": 1448430486,
      "index": "b3j",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 414,
      "id": "c3Tc6ECvDMotYs7JRaQEu",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -932.6243343812657,
      "y": 295.6096334517929,
      "strokeColor": "#495057",
      "backgroundColor": "#ffffff",
      "width": 360,
      "height": 245.2441373482298,
      "seed": 274119114,
      "groupIds": [
        "WimYVjMT6dAMM8E0nmdQb",
        "slr_aNrjdABj3UGDSNTdB"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436240814,
      "link": null,
      "locked": false,
      "versionNonce": 1947429078,
      "index": "b3jV",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 389,
      "id": "puvUXDLa484z9fWqUE7Ck",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -922.6243343812657,
      "y": 305.6096334517929,
      "strokeColor": "#495057",
      "backgroundColor": "transparent",
      "width": 304.6666564941406,
      "height": 227.5,
      "seed": 1035006090,
      "groupIds": [
        "WimYVjMT6dAMM8E0nmdQb",
        "slr_aNrjdABj3UGDSNTdB"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436240814,
      "link": null,
      "locked": false,
      "fontSize": 13,
      "fontFamily": 3,
      "text": "rate_limits\n─────────────────────────\nPK  id UUID\nFK  user_id UUID → users.id\n    action TEXT NOT NULL\n    window_start TIMESTAMPTZ\n    window_end TIMESTAMPTZ\n    count INT DEFAULT 0\n\nConstraints:\n• UNIQUE (user_id, action, window_start)\n\nIndexes:\n• (user_id, action, window_start)",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "rate_limits\n─────────────────────────\nPK  id UUID\nFK  user_id UUID → users.id\n    action TEXT NOT NULL\n    window_start TIMESTAMPTZ\n    window_end TIMESTAMPTZ\n    count INT DEFAULT 0\n\nConstraints:\n• UNIQUE (user_id, action, window_start)\n\nIndexes:\n• (user_id, action, window_start)",
      "autoResize": true,
      "lineHeight": 1.25,
      "versionNonce": 110878230,
      "index": "b3k",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 413,
      "id": "cZX671oP2qtuG1-SzRd55",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -1717.4792438472577,
      "y": 599.1717562267606,
      "strokeColor": "#495057",
      "backgroundColor": "#ffffff",
      "width": 360,
      "height": 176.92615192149148,
      "seed": 404115274,
      "groupIds": [
        "4pWEsFEejXr_TF5gQ-Vm5",
        "slr_aNrjdABj3UGDSNTdB"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436240814,
      "link": null,
      "locked": false,
      "versionNonce": 853781334,
      "index": "b3kV",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 404,
      "id": "4ziilgRb39ZZhMeMBOz3h",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -1707.4792438472577,
      "y": 609.1717562267606,
      "strokeColor": "#495057",
      "backgroundColor": "transparent",
      "width": 213.26666259765625,
      "height": 162.5,
      "seed": 602002954,
      "groupIds": [
        "4pWEsFEejXr_TF5gQ-Vm5",
        "slr_aNrjdABj3UGDSNTdB"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436240814,
      "link": null,
      "locked": false,
      "fontSize": 13,
      "fontFamily": 3,
      "text": "system_config\n─────────────────────────\nPK  key TEXT\n    value JSONB NOT NULL\n    updated_at TIMESTAMPTZ\n\nStores:\n• rng_seed_generation_status\n• hot_wallet_threshold\n• maintenance_mode",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "system_config\n─────────────────────────\nPK  key TEXT\n    value JSONB NOT NULL\n    updated_at TIMESTAMPTZ\n\nStores:\n• rng_seed_generation_status\n• hot_wallet_threshold\n• maintenance_mode",
      "autoResize": true,
      "lineHeight": 1.25,
      "versionNonce": 926929046,
      "index": "b3l",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 423,
      "id": "Rc6_0FpCoSxWx-yrRgqKW",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -1326.0874103420115,
      "y": 582.6018165827657,
      "strokeColor": "#495057",
      "backgroundColor": "#ffffff",
      "width": 360,
      "height": 199.70981893198442,
      "seed": 571376842,
      "groupIds": [
        "VE7LS54V_d6NX7HaI6mKw",
        "slr_aNrjdABj3UGDSNTdB"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436240814,
      "link": null,
      "locked": false,
      "versionNonce": 1063603670,
      "index": "b3nV",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 400,
      "id": "XKmoce-oorwmvKBRlJWr_",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -1316.0874103420115,
      "y": 592.6018165827657,
      "strokeColor": "#495057",
      "backgroundColor": "transparent",
      "width": 213.26666259765625,
      "height": 178.75,
      "seed": 2084002698,
      "groupIds": [
        "VE7LS54V_d6NX7HaI6mKw",
        "slr_aNrjdABj3UGDSNTdB"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436240814,
      "link": null,
      "locked": false,
      "fontSize": 13,
      "fontFamily": 3,
      "text": "feature_flags\n─────────────────────────\nPK  key TEXT\n    enabled BOOLEAN NOT NULL\n    rollout_percentage INT\n    user_ids UUID[]\n    updated_at TIMESTAMPTZ\n\nFlags:\n• crash_game_enabled\n• crypto_deposits_enabled",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "feature_flags\n─────────────────────────\nPK  key TEXT\n    enabled BOOLEAN NOT NULL\n    rollout_percentage INT\n    user_ids UUID[]\n    updated_at TIMESTAMPTZ\n\nFlags:\n• crash_game_enabled\n• crypto_deposits_enabled",
      "autoResize": true,
      "lineHeight": 1.25,
      "versionNonce": 946414358,
      "index": "b3o",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 438,
      "id": "5qAfEv402qsZnWHQtn_bx",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -931.588713153516,
      "y": 568.1031193942702,
      "strokeColor": "#495057",
      "backgroundColor": "#ffffff",
      "width": 360,
      "height": 220.42224348697812,
      "seed": 815225418,
      "groupIds": [
        "qNriujjaa_hl2InWp1J9P",
        "slr_aNrjdABj3UGDSNTdB"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436240814,
      "link": null,
      "locked": false,
      "versionNonce": 616583254,
      "index": "b3pV",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 409,
      "id": "tqoC-cdEY53v9w3FRxU13",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -921.588713153516,
      "y": 578.1031193942702,
      "strokeColor": "#495057",
      "backgroundColor": "transparent",
      "width": 350.3666687011719,
      "height": 195,
      "seed": 1040810250,
      "groupIds": [
        "qNriujjaa_hl2InWp1J9P",
        "slr_aNrjdABj3UGDSNTdB"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436240814,
      "link": null,
      "locked": false,
      "fontSize": 13,
      "fontFamily": 3,
      "text": "wallet_addresses\n─────────────────────────\nPK  id UUID\n    chain TEXT NOT NULL\n    CHECK (chain IN ('ETH', 'BSC', 'TRON'))\n    address TEXT NOT NULL\n    type TEXT NOT NULL\n    CHECK (type IN ('hot', 'cold', 'deposit'))\n    created_at TIMESTAMPTZ\n\nConstraints:\n• UNIQUE (chain, address)",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "wallet_addresses\n─────────────────────────\nPK  id UUID\n    chain TEXT NOT NULL\n    CHECK (chain IN ('ETH', 'BSC', 'TRON'))\n    address TEXT NOT NULL\n    type TEXT NOT NULL\n    CHECK (type IN ('hot', 'cold', 'deposit'))\n    created_at TIMESTAMPTZ\n\nConstraints:\n• UNIQUE (chain, address)",
      "autoResize": true,
      "lineHeight": 1.25,
      "versionNonce": 1883231638,
      "index": "b3q",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 159,
      "id": "xOSLCc0ZKdkzNKS8LriQ2",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": 426.8086344978476,
      "y": 1039.5136794826265,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#f1f3f5",
      "width": 1000,
      "height": 427.63857647648535,
      "seed": 269012938,
      "groupIds": [
        "ZcrMjHyFtPyhVN08Giu_i"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436255043,
      "link": null,
      "locked": false,
      "versionNonce": 1208161738,
      "index": "b3s",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 143,
      "id": "-adEbTen7aPbiv0TdN-i-",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": 446.8086344978476,
      "y": 1054.5136794826265,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 400,
      "height": 32,
      "seed": 1789937290,
      "groupIds": [
        "ZcrMjHyFtPyhVN08Giu_i"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436255043,
      "link": null,
      "locked": false,
      "fontSize": 24,
      "fontFamily": 1,
      "text": "GO CONSTANTS (define in code)",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "GO CONSTANTS (define in code)",
      "autoResize": true,
      "lineHeight": 1.35,
      "versionNonce": 2003946634,
      "index": "b3t",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 145,
      "id": "Vcp8ONT5OIbSUBJsk_tZe",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": 446.8086344978476,
      "y": 1099.5136794826265,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 594.140625,
      "height": 357.5,
      "seed": 1455088970,
      "groupIds": [
        "ZcrMjHyFtPyhVN08Giu_i"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761630580703,
      "link": null,
      "locked": false,
      "fontSize": 13,
      "fontFamily": 3,
      "text": "type UserRole string\nconst (RoleAdmin UserRole = \"admin\"; RoleDistributor = \"distributor\"; ...)\n\ntype TransferKind string\nconst (KindMint TransferKind = \"mint\"; KindBurn = \"burn\"; ...)\n\ntype TransferStatus string  \nconst (StatusPending TransferStatus = \"pending\"; StatusPosted = \"posted\"; ...)\n\ntype GameType string\nconst (GameSlot GameType = \"slot\"; GameCrash = \"crash\")\n\ntype SessionStatus string\nconst (SessionPendingBet = \"pending_bet\"; SessionActive = \"active\"; ...)\n\ntype Chain string\nconst (ChainETH Chain = \"ETH\"; ChainBSC = \"BSC\"; ChainTRON = \"TRON\")\n\nNOTE: All micro amounts are int64. 1 GOLD = 1_000_000 micro.\n\nDB uses TEXT + CHECK constraints. Go uses typed string constants.\nNo PostgreSQL ENUMs. Validation in application layer.",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "type UserRole string\nconst (RoleAdmin UserRole = \"admin\"; RoleDistributor = \"distributor\"; ...)\n\ntype TransferKind string\nconst (KindMint TransferKind = \"mint\"; KindBurn = \"burn\"; ...)\n\ntype TransferStatus string  \nconst (StatusPending TransferStatus = \"pending\"; StatusPosted = \"posted\"; ...)\n\ntype GameType string\nconst (GameSlot GameType = \"slot\"; GameCrash = \"crash\")\n\ntype SessionStatus string\nconst (SessionPendingBet = \"pending_bet\"; SessionActive = \"active\"; ...)\n\ntype Chain string\nconst (ChainETH Chain = \"ETH\"; ChainBSC = \"BSC\"; ChainTRON = \"TRON\")\n\nNOTE: All micro amounts are int64. 1 GOLD = 1_000_000 micro.\n\nDB uses TEXT + CHECK constraints. Go uses typed string constants.\nNo PostgreSQL ENUMs. Validation in application layer.",
      "autoResize": true,
      "lineHeight": 1.25,
      "versionNonce": 2055611772,
      "index": "b3u",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 111,
      "id": "LGbTrJzTJfGF-n8rIGWvt",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -481.03422396268604,
      "y": 247.19589820304458,
      "strokeColor": "#1864ab",
      "backgroundColor": "#e7f5ff",
      "width": 836.6101688346669,
      "height": 512.0074525206995,
      "seed": 873857226,
      "groupIds": [
        "YnKOrHXWoZ93TX3LQVgX1",
        "vFsppSXxJXhy93XwGycIo"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [
        {
          "id": "DfEIhrZcVi7vWYcaSEwn3",
          "type": "arrow"
        },
        {
          "id": "fKHwJd8Dukd2Crppc0xtC",
          "type": "arrow"
        },
        {
          "id": "IyXiMPRNNpEIyj1K6RJpR",
          "type": "arrow"
        }
      ],
      "updated": 1760436461891,
      "link": null,
      "locked": false,
      "versionNonce": 1323590346,
      "index": "b3u8",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 51,
      "id": "J8djdhq7yAmErRdbGGLae",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -461.0342239626861,
      "y": 262.1958982030446,
      "strokeColor": "#1864ab",
      "backgroundColor": "transparent",
      "width": 250,
      "height": 32,
      "seed": 1475303306,
      "groupIds": [
        "YnKOrHXWoZ93TX3LQVgX1",
        "vFsppSXxJXhy93XwGycIo"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760434067549,
      "link": null,
      "locked": false,
      "fontSize": 24,
      "fontFamily": 1,
      "text": "AUTH",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "AUTH",
      "autoResize": true,
      "lineHeight": 1.35,
      "versionNonce": 607983446,
      "index": "b3uG",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 65,
      "id": "6EG6InFiFTIZBgj3BXOm4",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -461.0342239626861,
      "y": 307.1958982030446,
      "strokeColor": "#1864ab",
      "backgroundColor": "#ffffff",
      "width": 346.8169249341655,
      "height": 360,
      "seed": 1274009162,
      "groupIds": [
        "YnKOrHXWoZ93TX3LQVgX1",
        "vFsppSXxJXhy93XwGycIo"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760434067549,
      "link": null,
      "locked": false,
      "versionNonce": 457388298,
      "index": "b3uV",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 54,
      "id": "HJk4km_yO1u9_Sx1u7wUQ",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -451.0342239626861,
      "y": 317.1958982030446,
      "strokeColor": "#1864ab",
      "backgroundColor": "transparent",
      "width": 327.51666259765625,
      "height": 308.75,
      "seed": 1358069002,
      "groupIds": [
        "YnKOrHXWoZ93TX3LQVgX1",
        "vFsppSXxJXhy93XwGycIo"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [
        {
          "id": "aLwkb0XsjW1n9HrIkD9wu",
          "type": "arrow"
        },
        {
          "id": "CeQaMHWGYEEKXWLRUgPku",
          "type": "arrow"
        }
      ],
      "updated": 1760434129237,
      "link": null,
      "locked": false,
      "fontSize": 13,
      "fontFamily": 3,
      "text": "users\n─────────────────────────\nPK  id UUID\n    email CITEXT UNIQUE\n    role TEXT NOT NULL\n    CHECK (role IN ('admin', 'distributor',\n                    'agent', 'player'))\n    name TEXT\n    image TEXT\nFK  parent_id UUID → users.id\n    email_verified BOOLEAN\n    created_at TIMESTAMPTZ\n    updated_at TIMESTAMPTZ\n\nIndexes:\n• (email)\n• (role)\n• (parent_id)\n• (created_at)",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "users\n─────────────────────────\nPK  id UUID\n    email CITEXT UNIQUE\n    role TEXT NOT NULL\n    CHECK (role IN ('admin', 'distributor',\n                    'agent', 'player'))\n    name TEXT\n    image TEXT\nFK  parent_id UUID → users.id\n    email_verified BOOLEAN\n    created_at TIMESTAMPTZ\n    updated_at TIMESTAMPTZ\n\nIndexes:\n• (email)\n• (role)\n• (parent_id)\n• (created_at)",
      "autoResize": true,
      "lineHeight": 1.25,
      "versionNonce": 1900022934,
      "index": "b3ud",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 169,
      "id": "CVU_vWo4lwVvS9f5GMgmG",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -1.206120247470892,
      "y": 266.50350748633537,
      "strokeColor": "#1864ab",
      "backgroundColor": "#ffffff",
      "width": 330,
      "height": 220.38105517306855,
      "seed": 1416776650,
      "groupIds": [
        "YnKOrHXWoZ93TX3LQVgX1",
        "vFsppSXxJXhy93XwGycIo"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [
        {
          "id": "DfEIhrZcVi7vWYcaSEwn3",
          "type": "arrow"
        }
      ],
      "updated": 1760435068482,
      "link": null,
      "locked": false,
      "versionNonce": 686703178,
      "index": "b3ul",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 141,
      "id": "in0EcQjptAk8xq_FvxVGS",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": 8.793879752529108,
      "y": 276.5035074863353,
      "strokeColor": "#1864ab",
      "backgroundColor": "transparent",
      "width": 205.64999389648438,
      "height": 195,
      "seed": 1552564874,
      "groupIds": [
        "YnKOrHXWoZ93TX3LQVgX1",
        "vFsppSXxJXhy93XwGycIo"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [
        {
          "id": "aLwkb0XsjW1n9HrIkD9wu",
          "type": "arrow"
        }
      ],
      "updated": 1760434067549,
      "link": null,
      "locked": false,
      "fontSize": 13,
      "fontFamily": 3,
      "text": "session\n─────────────────────────\nPK  id UUID\nFK  user_id UUID → users.id\n    expires_at TIMESTAMPTZ\n    ip_address INET\n    user_agent TEXT\n    created_at TIMESTAMPTZ\n\nIndexes:\n• (user_id, expires_at)\n• (expires_at)",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "session\n─────────────────────────\nPK  id UUID\nFK  user_id UUID → users.id\n    expires_at TIMESTAMPTZ\n    ip_address INET\n    user_agent TEXT\n    created_at TIMESTAMPTZ\n\nIndexes:\n• (user_id, expires_at)\n• (expires_at)",
      "autoResize": true,
      "lineHeight": 1.25,
      "versionNonce": 575912406,
      "index": "b3v",
      "isDeleted": false
    },
    {
      "type": "rectangle",
      "version": 121,
      "id": "DQHtzSo-aUY2Hkfy08KeQ",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": 0.011814633077676717,
      "y": 515.4175593439429,
      "strokeColor": "#1864ab",
      "backgroundColor": "#ffffff",
      "width": 330,
      "height": 228.13198673815617,
      "seed": 1945461066,
      "groupIds": [
        "YnKOrHXWoZ93TX3LQVgX1",
        "vFsppSXxJXhy93XwGycIo"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760434067549,
      "link": null,
      "locked": false,
      "versionNonce": 691926666,
      "index": "b3vG",
      "isDeleted": false
    },
    {
      "type": "text",
      "version": 106,
      "id": "YQL_-JfYp2BGOjGZ_KQlz",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": 10.011814633077677,
      "y": 525.4175593439429,
      "strokeColor": "#1864ab",
      "backgroundColor": "transparent",
      "width": 258.9666748046875,
      "height": 211.25,
      "seed": 370059274,
      "groupIds": [
        "YnKOrHXWoZ93TX3LQVgX1",
        "vFsppSXxJXhy93XwGycIo"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [
        {
          "id": "CeQaMHWGYEEKXWLRUgPku",
          "type": "arrow"
        },
        {
          "id": "fKHwJd8Dukd2Crppc0xtC",
          "type": "arrow"
        }
      ],
      "updated": 1760435766208,
      "link": null,
      "locked": false,
      "fontSize": 13,
      "fontFamily": 3,
      "text": "account\n─────────────────────────\nPK  id UUID\nFK  user_id UUID → users.id\n    provider_id TEXT\n    account_id TEXT\n    created_at TIMESTAMPTZ\n\nConstraints:\n• UNIQUE (provider_id, account_id)\n\nIndexes:\n• (user_id)",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "account\n─────────────────────────\nPK  id UUID\nFK  user_id UUID → users.id\n    provider_id TEXT\n    account_id TEXT\n    created_at TIMESTAMPTZ\n\nConstraints:\n• UNIQUE (provider_id, account_id)\n\nIndexes:\n• (user_id)",
      "autoResize": true,
      "lineHeight": 1.25,
      "versionNonce": 2110166102,
      "index": "b3vV",
      "isDeleted": false
    },
    {
      "type": "arrow",
      "version": 163,
      "id": "aLwkb0XsjW1n9HrIkD9wu",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -109.37296680034086,
      "y": 392.29973929440445,
      "strokeColor": "#1864ab",
      "backgroundColor": "transparent",
      "width": 108.16684655286997,
      "height": 0.9256051854139287,
      "seed": 226733066,
      "groupIds": [
        "vFsppSXxJXhy93XwGycIo"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760434067552,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "HJk4km_yO1u9_Sx1u7wUQ",
        "focus": -0.49910546068958495,
        "gap": 14.144594564688987
      },
      "endBinding": {
        "elementId": "in0EcQjptAk8xq_FvxVGS",
        "focus": -0.16802274350646693,
        "gap": 10
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          108.16684655286997,
          -0.9256051854139287
        ]
      ],
      "versionNonce": 1479625418,
      "index": "b3w",
      "isDeleted": false
    },
    {
      "type": "arrow",
      "version": 92,
      "id": "CeQaMHWGYEEKXWLRUgPku",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -109.37296680034086,
      "y": 582.1958982030446,
      "strokeColor": "#1864ab",
      "backgroundColor": "transparent",
      "width": 106.22911366159815,
      "height": 0.9688664456358538,
      "seed": 1694866122,
      "groupIds": [
        "vFsppSXxJXhy93XwGycIo"
      ],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760434453871,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "HJk4km_yO1u9_Sx1u7wUQ",
        "focus": 0.6993227329516439,
        "gap": 14.144594564688987
      },
      "endBinding": {
        "elementId": "YQL_-JfYp2BGOjGZ_KQlz",
        "focus": 0.43608850712239805,
        "gap": 13.15566777182039
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          106.22911366159815,
          0.9688664456358538
        ]
      ],
      "versionNonce": 144334870,
      "index": "b3wV",
      "isDeleted": false
    },
    {
      "type": "arrow",
      "version": 350,
      "id": "DfEIhrZcVi7vWYcaSEwn3",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "dashed",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": 359.03463711101574,
      "y": 388.51297947454003,
      "strokeColor": "#862e9c",
      "backgroundColor": "transparent",
      "width": 69.75642875002757,
      "height": 1.1759124332392616,
      "seed": 1004253578,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436285455,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "CVU_vWo4lwVvS9f5GMgmG",
        "focus": 0.12570552617619132,
        "gap": 30.240757358486633
      },
      "endBinding": {
        "elementId": "iPRM-icuqVQZUdUkZlSfR",
        "focus": 0.5295864835068388,
        "gap": 18.861379716608326
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          69.75642875002757,
          -1.1759124332392616
        ]
      ],
      "versionNonce": 2006183114,
      "index": "b3x",
      "isDeleted": false
    },
    {
      "type": "arrow",
      "version": 387,
      "id": "TN21mz_E_Zh8CQ2KfqlTB",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": 800.9431877103985,
      "y": 493.816926994535,
      "strokeColor": "#862e9c",
      "backgroundColor": "transparent",
      "width": 45.81265843311678,
      "height": 0.07806286655863914,
      "seed": 1698754634,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436292114,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "iPRM-icuqVQZUdUkZlSfR",
        "focus": 0.41803174731806286,
        "gap": 3.2907421327469137
      },
      "endBinding": {
        "elementId": "1izgCvVMASkcANcwJ8QFV",
        "focus": 0.13745704056669067,
        "gap": 13.000857494376419
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          45.81265843311678,
          0.07806286655863914
        ]
      ],
      "versionNonce": 1275594582,
      "index": "b3y",
      "isDeleted": false
    },
    {
      "type": "arrow",
      "version": 719,
      "id": "T6xUqBnndSoqxcWdYHS-G",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": 1210.1129159153886,
      "y": 484.82510126088346,
      "strokeColor": "#862e9c",
      "backgroundColor": "transparent",
      "width": 42.28386606304525,
      "height": 0.3345997265551546,
      "seed": 353392394,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436285456,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "1izgCvVMASkcANcwJ8QFV",
        "focus": -0.1601044090937035,
        "gap": 30.456218381012604
      },
      "endBinding": {
        "elementId": "pgfqVtA0rvXN2yNvgnGQM",
        "focus": 0.053142538509202794,
        "gap": 15.677907086196
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          42.28386606304525,
          0.3345997265551546
        ]
      ],
      "versionNonce": 1101523210,
      "index": "b3z",
      "isDeleted": false
    },
    {
      "type": "arrow",
      "version": 391,
      "id": "fKHwJd8Dukd2Crppc0xtC",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "dashed",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": 91.59487765517677,
      "y": 758.7592755370974,
      "strokeColor": "#2b8a3e",
      "backgroundColor": "transparent",
      "width": 1.1873304611208795,
      "height": 135.68916021297173,
      "seed": 1271195082,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436251684,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "YQL_-JfYp2BGOjGZ_KQlz",
        "focus": 0.3788459105510386,
        "gap": 22.091716193154525
      },
      "endBinding": {
        "elementId": "5wGSWWYXbhWcwQAcmCHWo",
        "focus": -0.27521006343929494,
        "gap": 23.093835568203872
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          1.1873304611208795,
          135.68916021297173
        ]
      ],
      "versionNonce": 1570528214,
      "index": "b40",
      "isDeleted": false
    },
    {
      "type": "arrow",
      "version": 122,
      "id": "2TKxkTmUepytH2PaXkYfC",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "dashed",
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "x": -123.9840913740818,
      "y": 973.6671880975259,
      "strokeColor": "#2b8a3e",
      "backgroundColor": "transparent",
      "width": 91.52045680388369,
      "height": 1.7072329948773586,
      "seed": 1115266186,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1760436274211,
      "link": null,
      "locked": false,
      "startBinding": null,
      "endBinding": {
        "elementId": "5wGSWWYXbhWcwQAcmCHWo",
        "focus": 0.7316467634088744,
        "gap": 12.427454732995898
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          91.52045680388369,
          1.7072329948773586
        ]
      ],
      "versionNonce": 761559882,
      "index": "b41",
      "isDeleted": false
    },
    {
      "id": "IyXiMPRNNpEIyj1K6RJpR",
      "type": "arrow",
      "x": -874.6183845614418,
      "y": 192.5703988371888,
      "width": 511.8609481915768,
      "height": 49.625499365855774,
      "angle": 0,
      "strokeColor": "#e03131",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b45",
      "roundness": null,
      "seed": 1494941462,
      "version": 213,
      "versionNonce": 1806457366,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760436480028,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          0,
          34.99999999999994
        ],
        [
          511.8609481915768,
          34.99999999999994
        ],
        [
          511.8609481915768,
          49.625499365855774
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "NCs0jdiCvPCrbgqCOYJfI",
        "focus": 0.00033333333333293515,
        "gap": 5.000000000000057,
        "fixedPoint": [
          0.4998333333333333,
          1.0106199621378362
        ]
      },
      "endBinding": {
        "elementId": "LGbTrJzTJfGF-n8rIGWvt",
        "focus": 1.0195309657130347,
        "gap": 5,
        "fixedPoint": [
          0.14137622515104198,
          -0.009765482856517326
        ]
      },
      "startArrowhead": null,
      "endArrowhead": "triangle",
      "elbowed": true,
      "fixedSegments": [
        {
          "index": 2,
          "start": [
            346.8420802993779,
            34.03552768319088
          ],
          "end": [
            511.8609481915768,
            34.03552768319088
          ]
        }
      ],
      "startIsSpecial": false,
      "endIsSpecial": false
    },
    {
      "type": "rectangle",
      "version": 218,
      "id": "stdRw1_oenI_36X4wSX-S",
      "x": -4171.782051737664,
      "y": 354.2241374807045,
      "width": 200,
      "height": 160,
      "angle": 0,
      "strokeColor": "#f59f00",
      "backgroundColor": "#fff9db",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [
        "ZziSrlDI3h5Be8d1BuuLC"
      ],
      "frameId": null,
      "roundness": null,
      "seed": 1126575816,
      "versionNonce": 630634557,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760531805646,
      "link": null,
      "locked": false,
      "index": "b46"
    },
    {
      "type": "text",
      "version": 226,
      "id": "SP6YLuzsKnzbcPzKjjbVf",
      "x": -4161.782051737664,
      "y": 364.2241374807045,
      "width": 163.29490661621094,
      "height": 112.5,
      "angle": 0,
      "strokeColor": "#f59f00",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [
        "ZziSrlDI3h5Be8d1BuuLC"
      ],
      "frameId": null,
      "roundness": null,
      "seed": 453318088,
      "versionNonce": 766698685,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1760531814165,
      "link": null,
      "locked": false,
      "text": "SUB-AGENT\n\n• Buy Gold (Fiat)\n• Provision Players\n• View Stats",
      "fontSize": 18,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 135,
      "containerId": null,
      "originalText": "SUB-AGENT\n\n• Buy Gold (Fiat)\n• Provision Players\n• View Stats",
      "autoResize": true,
      "lineHeight": 1.25,
      "index": "b47"
    }
  ],
  "appState": {
    "gridSize": 20,
    "gridStep": 5,
    "gridModeEnabled": false,
    "viewBackgroundColor": "#ffffff"
  },
  "files": {}
}